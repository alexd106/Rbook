<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.4 Wrangling data frames | An Introduction to R</title>
  <meta name="description" content="A practical introduction to using R for data analysis" />
  <meta name="generator" content="bookdown 0.38 and GitBook 2.6.7" />

  <meta property="og:title" content="3.4 Wrangling data frames | An Introduction to R" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://alexd106.github.io/Rbook//images/cover_v3.png" />
  <meta property="og:description" content="A practical introduction to using R for data analysis" />
  <meta name="github-repo" content="alexd106/Rbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.4 Wrangling data frames | An Introduction to R" />
  
  <meta name="twitter:description" content="A practical introduction to using R for data analysis" />
  <meta name="twitter:image" content="https://alexd106.github.io/Rbook//images/cover_v3.png" />

<meta name="author" content="Alex Douglas, Deon Roos, Francesca Mancini, Ana Couto &amp; David Lusseau" />


<meta name="date" content="2024-03-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="importing-data.html"/>
<link rel="next" href="summarising-data-frames.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-162377463-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-162377463-3');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">An Introduction R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="0.1" data-path="the-aim-of-this-book.html"><a href="the-aim-of-this-book.html"><i class="fa fa-check"></i><b>0.1</b> The aim of this book</a></li>
<li class="chapter" data-level="0.2" data-path="who-is-this-book-for.html"><a href="who-is-this-book-for.html"><i class="fa fa-check"></i><b>0.2</b> Who is this book for?</a></li>
<li class="chapter" data-level="0.3" data-path="why-an-open-book.html"><a href="why-an-open-book.html"><i class="fa fa-check"></i><b>0.3</b> Why an open book?</a></li>
<li class="chapter" data-level="0.4" data-path="whoarewe.html"><a href="whoarewe.html"><i class="fa fa-check"></i><b>0.4</b> Who are we?</a></li>
<li class="chapter" data-level="0.5" data-path="how-to-use-this-book.html"><a href="how-to-use-this-book.html"><i class="fa fa-check"></i><b>0.5</b> How to use this book</a></li>
<li class="chapter" data-level="0.6" data-path="book-website.html"><a href="book-website.html"><i class="fa fa-check"></i><b>0.6</b> Book website</a></li>
<li class="chapter" data-level="0.7" data-path="some-r-pointers.html"><a href="some-r-pointers.html"><i class="fa fa-check"></i><b>0.7</b> Some R pointers</a></li>
<li class="chapter" data-level="0.8" data-path="thanks.html"><a href="thanks.html"><i class="fa fa-check"></i><b>0.8</b> Thanks</a></li>
<li class="chapter" data-level="0.9" data-path="license.html"><a href="license.html"><i class="fa fa-check"></i><b>0.9</b> License</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="chap1.html"><a href="chap1.html"><i class="fa fa-check"></i><b>1</b> Getting started with R and RStudio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="install_r.html"><a href="install_r.html"><i class="fa fa-check"></i><b>1.1</b> Installing R</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="install_r.html"><a href="install_r.html#windows-users"><i class="fa fa-check"></i><b>1.1.1</b> Windows users</a></li>
<li class="chapter" data-level="1.1.2" data-path="install_r.html"><a href="install_r.html#mac-users"><i class="fa fa-check"></i><b>1.1.2</b> Mac users</a></li>
<li class="chapter" data-level="1.1.3" data-path="install_r.html"><a href="install_r.html#linux-users"><i class="fa fa-check"></i><b>1.1.3</b> Linux users</a></li>
<li class="chapter" data-level="1.1.4" data-path="install_r.html"><a href="install_r.html#testing-r"><i class="fa fa-check"></i><b>1.1.4</b> Testing R</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="installing-rstudio.html"><a href="installing-rstudio.html"><i class="fa fa-check"></i><b>1.2</b> Installing RStudio</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="installing-rstudio.html"><a href="installing-rstudio.html#windows-and-mac-users"><i class="fa fa-check"></i><b>1.2.1</b> Windows and Mac users</a></li>
<li class="chapter" data-level="1.2.2" data-path="installing-rstudio.html"><a href="installing-rstudio.html#linux-users-1"><i class="fa fa-check"></i><b>1.2.2</b> Linux users</a></li>
<li class="chapter" data-level="1.2.3" data-path="installing-rstudio.html"><a href="installing-rstudio.html#testing-rstudio"><i class="fa fa-check"></i><b>1.2.3</b> Testing RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="rstudio_orient.html"><a href="rstudio_orient.html"><i class="fa fa-check"></i><b>1.3</b> RStudio orientation</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="rstudio_orient.html"><a href="rstudio_orient.html#cons"><i class="fa fa-check"></i><b>1.3.1</b> Console</a></li>
<li class="chapter" data-level="1.3.2" data-path="rstudio_orient.html"><a href="rstudio_orient.html#environmenthistoryconnections"><i class="fa fa-check"></i><b>1.3.2</b> Environment/History/Connections</a></li>
<li class="chapter" data-level="1.3.3" data-path="rstudio_orient.html"><a href="rstudio_orient.html#filesplotspackageshelpviewer"><i class="fa fa-check"></i><b>1.3.3</b> Files/Plots/Packages/Help/Viewer</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="alternatives-to-rstudio.html"><a href="alternatives-to-rstudio.html"><i class="fa fa-check"></i><b>1.4</b> Alternatives to RStudio</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="alternatives-to-rstudio.html"><a href="alternatives-to-rstudio.html#advanced-text-editors"><i class="fa fa-check"></i><b>1.4.1</b> Advanced text editors</a></li>
<li class="chapter" data-level="1.4.2" data-path="alternatives-to-rstudio.html"><a href="alternatives-to-rstudio.html#integrated-development-environments"><i class="fa fa-check"></i><b>1.4.2</b> Integrated development environments</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>1.5</b> R packages</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="packages.html"><a href="packages.html#cran_packages"><i class="fa fa-check"></i><b>1.5.1</b> CRAN packages</a></li>
<li class="chapter" data-level="1.5.2" data-path="packages.html"><a href="packages.html#bioconductor-packages"><i class="fa fa-check"></i><b>1.5.2</b> Bioconductor packages</a></li>
<li class="chapter" data-level="1.5.3" data-path="packages.html"><a href="packages.html#github-packages"><i class="fa fa-check"></i><b>1.5.3</b> GitHub packages</a></li>
<li class="chapter" data-level="1.5.4" data-path="packages.html"><a href="packages.html#using-packages"><i class="fa fa-check"></i><b>1.5.4</b> Using packages</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="rsprojs.html"><a href="rsprojs.html"><i class="fa fa-check"></i><b>1.6</b> Projects in RStudio</a></li>
<li class="chapter" data-level="1.7" data-path="work-d.html"><a href="work-d.html"><i class="fa fa-check"></i><b>1.7</b> Working directories</a></li>
<li class="chapter" data-level="1.8" data-path="dir_struct.html"><a href="dir_struct.html"><i class="fa fa-check"></i><b>1.8</b> Directory structure</a></li>
<li class="chapter" data-level="1.9" data-path="file_names.html"><a href="file_names.html"><i class="fa fa-check"></i><b>1.9</b> File names</a></li>
<li class="chapter" data-level="1.10" data-path="proj_doc.html"><a href="proj_doc.html"><i class="fa fa-check"></i><b>1.10</b> Project documentation</a></li>
<li class="chapter" data-level="1.11" data-path="r-style-guide.html"><a href="r-style-guide.html"><i class="fa fa-check"></i><b>1.11</b> R style guide</a></li>
<li class="chapter" data-level="1.12" data-path="backing-up-projects.html"><a href="backing-up-projects.html"><i class="fa fa-check"></i><b>1.12</b> Backing up projects</a></li>
<li class="chapter" data-level="1.13" data-path="citing-r.html"><a href="citing-r.html"><i class="fa fa-check"></i><b>1.13</b> Citing R</a></li>
<li class="chapter" data-level="1.14" data-path="exercise-1.html"><a href="exercise-1.html"><i class="fa fa-check"></i><b>1.14</b> Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics_r.html"><a href="basics_r.html"><i class="fa fa-check"></i><b>2</b> Some R basics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2.1</b> Getting started</a></li>
<li class="chapter" data-level="2.2" data-path="objects-in-r.html"><a href="objects-in-r.html"><i class="fa fa-check"></i><b>2.2</b> Objects in R</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="objects-in-r.html"><a href="objects-in-r.html#r_objs"><i class="fa fa-check"></i><b>2.2.1</b> Creating objects</a></li>
<li class="chapter" data-level="2.2.2" data-path="objects-in-r.html"><a href="objects-in-r.html#naming-objects"><i class="fa fa-check"></i><b>2.2.2</b> Naming objects</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="using-functions-in-r.html"><a href="using-functions-in-r.html"><i class="fa fa-check"></i><b>2.3</b> Using functions in R</a></li>
<li class="chapter" data-level="2.4" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>2.4</b> Working with vectors</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="vectors.html"><a href="vectors.html#extracting-elements"><i class="fa fa-check"></i><b>2.4.1</b> Extracting elements</a></li>
<li class="chapter" data-level="2.4.2" data-path="vectors.html"><a href="vectors.html#replacing-elements"><i class="fa fa-check"></i><b>2.4.2</b> Replacing elements</a></li>
<li class="chapter" data-level="2.4.3" data-path="vectors.html"><a href="vectors.html#vec_ord"><i class="fa fa-check"></i><b>2.4.3</b> Ordering elements</a></li>
<li class="chapter" data-level="2.4.4" data-path="vectors.html"><a href="vectors.html#vectorisation"><i class="fa fa-check"></i><b>2.4.4</b> Vectorisation</a></li>
<li class="chapter" data-level="2.4.5" data-path="vectors.html"><a href="vectors.html#na_vals"><i class="fa fa-check"></i><b>2.4.5</b> Missing data</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="help.html"><a href="help.html"><i class="fa fa-check"></i><b>2.5</b> Getting help</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="help.html"><a href="help.html#r-help"><i class="fa fa-check"></i><b>2.5.1</b> R help</a></li>
<li class="chapter" data-level="2.5.2" data-path="help.html"><a href="help.html#rhelp"><i class="fa fa-check"></i><b>2.5.2</b> Other sources of help</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="saving-stuff-in-r.html"><a href="saving-stuff-in-r.html"><i class="fa fa-check"></i><b>2.6</b> Saving stuff in R</a></li>
<li class="chapter" data-level="2.7" data-path="exercise-2.html"><a href="exercise-2.html"><i class="fa fa-check"></i><b>2.7</b> Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data_r.html"><a href="data_r.html"><i class="fa fa-check"></i><b>3</b> Data in R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>3.1</b> Data types</a></li>
<li class="chapter" data-level="3.2" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>3.2</b> Data structures</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-structures.html"><a href="data-structures.html#scal_vecs"><i class="fa fa-check"></i><b>3.2.1</b> Scalars and vectors</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-structures.html"><a href="data-structures.html#mat_array"><i class="fa fa-check"></i><b>3.2.2</b> Matrices and arrays</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-structures.html"><a href="data-structures.html#lists"><i class="fa fa-check"></i><b>3.2.3</b> Lists</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-structures.html"><a href="data-structures.html#df"><i class="fa fa-check"></i><b>3.2.4</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>3.3</b> Importing data</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="importing-data.html"><a href="importing-data.html#saving-files-to-import"><i class="fa fa-check"></i><b>3.3.1</b> Saving files to import</a></li>
<li class="chapter" data-level="3.3.2" data-path="importing-data.html"><a href="importing-data.html#import_fnc"><i class="fa fa-check"></i><b>3.3.2</b> Import functions</a></li>
<li class="chapter" data-level="3.3.3" data-path="importing-data.html"><a href="importing-data.html#common-import-frustrations"><i class="fa fa-check"></i><b>3.3.3</b> Common import frustrations</a></li>
<li class="chapter" data-level="3.3.4" data-path="importing-data.html"><a href="importing-data.html#import_other"><i class="fa fa-check"></i><b>3.3.4</b> Other import options</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html"><i class="fa fa-check"></i><b>3.4</b> Wrangling data frames</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html#positional-indexes"><i class="fa fa-check"></i><b>3.4.1</b> Positional indexes</a></li>
<li class="chapter" data-level="3.4.2" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html#logical-indexes"><i class="fa fa-check"></i><b>3.4.2</b> Logical indexes</a></li>
<li class="chapter" data-level="3.4.3" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html#ordering-data-frames"><i class="fa fa-check"></i><b>3.4.3</b> Ordering data frames</a></li>
<li class="chapter" data-level="3.4.4" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html#adding-columns-and-rows"><i class="fa fa-check"></i><b>3.4.4</b> Adding columns and rows</a></li>
<li class="chapter" data-level="3.4.5" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html#merging-data-frames"><i class="fa fa-check"></i><b>3.4.5</b> Merging data frames</a></li>
<li class="chapter" data-level="3.4.6" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html#reshape"><i class="fa fa-check"></i><b>3.4.6</b> Reshaping data frames</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="summarising-data-frames.html"><a href="summarising-data-frames.html"><i class="fa fa-check"></i><b>3.5</b> Summarising data frames</a></li>
<li class="chapter" data-level="3.6" data-path="exporting-data.html"><a href="exporting-data.html"><i class="fa fa-check"></i><b>3.6</b> Exporting data</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="exporting-data.html"><a href="exporting-data.html#export-functions"><i class="fa fa-check"></i><b>3.6.1</b> Export functions</a></li>
<li class="chapter" data-level="3.6.2" data-path="exporting-data.html"><a href="exporting-data.html#other-export-functions"><i class="fa fa-check"></i><b>3.6.2</b> Other export functions</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="exercise-3.html"><a href="exercise-3.html"><i class="fa fa-check"></i><b>3.7</b> Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="graphics_base_r.html"><a href="graphics_base_r.html"><i class="fa fa-check"></i><b>4</b> Graphics with base R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="baseplot_start.html"><a href="baseplot_start.html"><i class="fa fa-check"></i><b>4.1</b> Getting started</a></li>
<li class="chapter" data-level="4.2" data-path="simple-base-r-plots.html"><a href="simple-base-r-plots.html"><i class="fa fa-check"></i><b>4.2</b> Simple base R plots</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="simple-base-r-plots.html"><a href="simple-base-r-plots.html#scatterplot"><i class="fa fa-check"></i><b>4.2.1</b> Scatterplots</a></li>
<li class="chapter" data-level="4.2.2" data-path="simple-base-r-plots.html"><a href="simple-base-r-plots.html#histograms"><i class="fa fa-check"></i><b>4.2.2</b> Histograms</a></li>
<li class="chapter" data-level="4.2.3" data-path="simple-base-r-plots.html"><a href="simple-base-r-plots.html#box-and-violin-plots"><i class="fa fa-check"></i><b>4.2.3</b> Box and violin plots</a></li>
<li class="chapter" data-level="4.2.4" data-path="simple-base-r-plots.html"><a href="simple-base-r-plots.html#dotcharts"><i class="fa fa-check"></i><b>4.2.4</b> Dot charts</a></li>
<li class="chapter" data-level="4.2.5" data-path="simple-base-r-plots.html"><a href="simple-base-r-plots.html#pairs-plots"><i class="fa fa-check"></i><b>4.2.5</b> Pairs plots</a></li>
<li class="chapter" data-level="4.2.6" data-path="simple-base-r-plots.html"><a href="simple-base-r-plots.html#coplots"><i class="fa fa-check"></i><b>4.2.6</b> Coplots</a></li>
<li class="chapter" data-level="4.2.7" data-path="simple-base-r-plots.html"><a href="simple-base-r-plots.html#lattice-plots"><i class="fa fa-check"></i><b>4.2.7</b> Lattice plots</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="custom_plot.html"><a href="custom_plot.html"><i class="fa fa-check"></i><b>4.3</b> Customising plots</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="custom_plot.html"><a href="custom_plot.html#customising-with-arguments"><i class="fa fa-check"></i><b>4.3.1</b> Customising with arguments</a></li>
<li class="chapter" data-level="4.3.2" data-path="custom_plot.html"><a href="custom_plot.html#building-plots"><i class="fa fa-check"></i><b>4.3.2</b> Building plots</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="mult_graphs.html"><a href="mult_graphs.html"><i class="fa fa-check"></i><b>4.4</b> Multiple graphs</a></li>
<li class="chapter" data-level="4.5" data-path="export_plots.html"><a href="export_plots.html"><i class="fa fa-check"></i><b>4.5</b> Exporting plots</a></li>
<li class="chapter" data-level="4.6" data-path="exercise-4.html"><a href="exercise-4.html"><i class="fa fa-check"></i><b>4.6</b> Exercise 4</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="graphics_r.html"><a href="graphics_r.html"><i class="fa fa-check"></i><b>5</b> Graphics with ggplot</a>
<ul>
<li class="chapter" data-level="5.1" data-path="beginning-at-the-end.html"><a href="beginning-at-the-end.html"><i class="fa fa-check"></i><b>5.1</b> Beginning at the end</a></li>
<li class="chapter" data-level="5.2" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html"><i class="fa fa-check"></i><b>5.2</b> The start of the end</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#the-purest-of-ggplots"><i class="fa fa-check"></i><b>5.2.1</b> The purest of ggplots</a></li>
<li class="chapter" data-level="5.2.2" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#wrapping-grids"><i class="fa fa-check"></i><b>5.2.2</b> Wrapping grids</a></li>
<li class="chapter" data-level="5.2.3" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#plotting-multiple-ggplots"><i class="fa fa-check"></i><b>5.2.3</b> Plotting multiple ggplots</a></li>
<li class="chapter" data-level="5.2.4" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#make-it-your-own"><i class="fa fa-check"></i><b>5.2.4</b> Make it your own</a></li>
<li class="chapter" data-level="5.2.5" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#setting-the-theme"><i class="fa fa-check"></i><b>5.2.5</b> Setting the theme</a></li>
<li class="chapter" data-level="5.2.6" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#prettification"><i class="fa fa-check"></i><b>5.2.6</b> Prettification</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="tips.html"><a href="tips.html"><i class="fa fa-check"></i><b>5.3</b> Tips and tricks</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="tips.html"><a href="tips.html#statistics-layer"><i class="fa fa-check"></i><b>5.3.1</b> Statistics layer</a></li>
<li class="chapter" data-level="5.3.2" data-path="tips.html"><a href="tips.html#axis-limits-and-zooms"><i class="fa fa-check"></i><b>5.3.2</b> Axis limits and zooms</a></li>
<li class="chapter" data-level="5.3.3" data-path="tips.html"><a href="tips.html#layering-layers"><i class="fa fa-check"></i><b>5.3.3</b> Layering layers</a></li>
<li class="chapter" data-level="5.3.4" data-path="tips.html"><a href="tips.html#continuous-colours"><i class="fa fa-check"></i><b>5.3.4</b> Continuous colours</a></li>
<li class="chapter" data-level="5.3.5" data-path="tips.html"><a href="tips.html#size-of-points"><i class="fa fa-check"></i><b>5.3.5</b> Size of points</a></li>
<li class="chapter" data-level="5.3.6" data-path="tips.html"><a href="tips.html#moving-the-legend"><i class="fa fa-check"></i><b>5.3.6</b> Moving the legend</a></li>
<li class="chapter" data-level="5.3.7" data-path="tips.html"><a href="tips.html#hiding-the-legend"><i class="fa fa-check"></i><b>5.3.7</b> Hiding the legend</a></li>
<li class="chapter" data-level="5.3.8" data-path="tips.html"><a href="tips.html#hiding-part-of-the-legend"><i class="fa fa-check"></i><b>5.3.8</b> Hiding part of the legend</a></li>
<li class="chapter" data-level="5.3.9" data-path="tips.html"><a href="tips.html#writing-on-a-figure"><i class="fa fa-check"></i><b>5.3.9</b> Writing on a figure</a></li>
<li class="chapter" data-level="5.3.10" data-path="tips.html"><a href="tips.html#axes-tick-marks-and-tick-labels"><i class="fa fa-check"></i><b>5.3.10</b> Axes tick marks and tick labels</a></li>
<li class="chapter" data-level="5.3.11" data-path="tips.html"><a href="tips.html#more-advanced-patchwork"><i class="fa fa-check"></i><b>5.3.11</b> More advanced patchwork</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="bestiary.html"><a href="bestiary.html"><i class="fa fa-check"></i><b>5.4</b> A ggplot bestiary</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="bestiary.html"><a href="bestiary.html#density-plot"><i class="fa fa-check"></i><b>5.4.1</b> Density plot</a></li>
<li class="chapter" data-level="5.4.2" data-path="bestiary.html"><a href="bestiary.html#histogram"><i class="fa fa-check"></i><b>5.4.2</b> Histogram</a></li>
<li class="chapter" data-level="5.4.3" data-path="bestiary.html"><a href="bestiary.html#frequency-polygons"><i class="fa fa-check"></i><b>5.4.3</b> Frequency polygons</a></li>
<li class="chapter" data-level="5.4.4" data-path="bestiary.html"><a href="bestiary.html#boxplot"><i class="fa fa-check"></i><b>5.4.4</b> Boxplot</a></li>
<li class="chapter" data-level="5.4.5" data-path="bestiary.html"><a href="bestiary.html#violin-plots"><i class="fa fa-check"></i><b>5.4.5</b> Violin plots</a></li>
<li class="chapter" data-level="5.4.6" data-path="bestiary.html"><a href="bestiary.html#barchart"><i class="fa fa-check"></i><b>5.4.6</b> Barchart</a></li>
<li class="chapter" data-level="5.4.7" data-path="bestiary.html"><a href="bestiary.html#quantile-lines"><i class="fa fa-check"></i><b>5.4.7</b> Quantile lines</a></li>
<li class="chapter" data-level="5.4.8" data-path="bestiary.html"><a href="bestiary.html#heatmap"><i class="fa fa-check"></i><b>5.4.8</b> Heatmap</a></li>
<li class="chapter" data-level="5.4.9" data-path="bestiary.html"><a href="bestiary.html#hex-map"><i class="fa fa-check"></i><b>5.4.9</b> Hex map</a></li>
<li class="chapter" data-level="5.4.10" data-path="bestiary.html"><a href="bestiary.html#contour-map"><i class="fa fa-check"></i><b>5.4.10</b> Contour map</a></li>
<li class="chapter" data-level="5.4.11" data-path="bestiary.html"><a href="bestiary.html#cleveland-dotplot"><i class="fa fa-check"></i><b>5.4.11</b> Cleveland dotplot</a></li>
<li class="chapter" data-level="5.4.12" data-path="bestiary.html"><a href="bestiary.html#pairs-plot"><i class="fa fa-check"></i><b>5.4.12</b> Pairs plot</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="exercise-5.html"><a href="exercise-5.html"><i class="fa fa-check"></i><b>5.5</b> Exercise 5</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="stats_r.html"><a href="stats_r.html"><i class="fa fa-check"></i><b>6</b> Simple Statistics in R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="one-and-two-sample-tests.html"><a href="one-and-two-sample-tests.html"><i class="fa fa-check"></i><b>6.1</b> One and two sample tests</a></li>
<li class="chapter" data-level="6.2" data-path="correlation.html"><a href="correlation.html"><i class="fa fa-check"></i><b>6.2</b> Correlation</a></li>
<li class="chapter" data-level="6.3" data-path="simple_lm.html"><a href="simple_lm.html"><i class="fa fa-check"></i><b>6.3</b> Simple linear modelling</a></li>
<li class="chapter" data-level="6.4" data-path="other-modelling-approaches.html"><a href="other-modelling-approaches.html"><i class="fa fa-check"></i><b>6.4</b> Other modelling approaches</a></li>
<li class="chapter" data-level="6.5" data-path="exercise-6.html"><a href="exercise-6.html"><i class="fa fa-check"></i><b>6.5</b> Exercise 6</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="prog_r.html"><a href="prog_r.html"><i class="fa fa-check"></i><b>7</b> Programming in R</a>
<ul>
<li class="chapter" data-level="7.1" data-path="looking-behind-the-curtain.html"><a href="looking-behind-the-curtain.html"><i class="fa fa-check"></i><b>7.1</b> Looking behind the curtain</a></li>
<li class="chapter" data-level="7.2" data-path="functions-in-r.html"><a href="functions-in-r.html"><i class="fa fa-check"></i><b>7.2</b> Functions in R</a></li>
<li class="chapter" data-level="7.3" data-path="conditional-statements.html"><a href="conditional-statements.html"><i class="fa fa-check"></i><b>7.3</b> Conditional statements</a></li>
<li class="chapter" data-level="7.4" data-path="combining-logical-operators.html"><a href="combining-logical-operators.html"><i class="fa fa-check"></i><b>7.4</b> Combining logical operators</a></li>
<li class="chapter" data-level="7.5" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>7.5</b> Loops</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="loops.html"><a href="loops.html#for-loop"><i class="fa fa-check"></i><b>7.5.1</b> For loop</a></li>
<li class="chapter" data-level="7.5.2" data-path="loops.html"><a href="loops.html#while-loop"><i class="fa fa-check"></i><b>7.5.2</b> While loop</a></li>
<li class="chapter" data-level="7.5.3" data-path="loops.html"><a href="loops.html#when-to-use-a-loop"><i class="fa fa-check"></i><b>7.5.3</b> When to use a loop?</a></li>
<li class="chapter" data-level="7.5.4" data-path="loops.html"><a href="loops.html#if-not-loops-then-what"><i class="fa fa-check"></i><b>7.5.4</b> If not loops, then what?</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="exercise-7.html"><a href="exercise-7.html"><i class="fa fa-check"></i><b>7.6</b> Exercise 7</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="rmarkdown_r.html"><a href="rmarkdown_r.html"><i class="fa fa-check"></i><b>8</b> Reproducible reports with R markdown</a>
<ul>
<li class="chapter" data-level="8.1" data-path="what-is-r-markdown.html"><a href="what-is-r-markdown.html"><i class="fa fa-check"></i><b>8.1</b> What is R markdown?</a></li>
<li class="chapter" data-level="8.2" data-path="why-use-r-markdown.html"><a href="why-use-r-markdown.html"><i class="fa fa-check"></i><b>8.2</b> Why use R markdown?</a></li>
<li class="chapter" data-level="8.3" data-path="get-started-with-r-markdown.html"><a href="get-started-with-r-markdown.html"><i class="fa fa-check"></i><b>8.3</b> Get started with R markdown</a></li>
<li class="chapter" data-level="8.4" data-path="new_rm.html"><a href="new_rm.html"><i class="fa fa-check"></i><b>8.4</b> Create an R markdown document</a></li>
<li class="chapter" data-level="8.5" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html"><i class="fa fa-check"></i><b>8.5</b> R markdown anatomy</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#yaml-header"><i class="fa fa-check"></i><b>8.5.1</b> YAML header</a></li>
<li class="chapter" data-level="8.5.2" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#formatted-text"><i class="fa fa-check"></i><b>8.5.2</b> Formatted text</a></li>
<li class="chapter" data-level="8.5.3" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#code_chunks"><i class="fa fa-check"></i><b>8.5.3</b> Code chunks</a></li>
<li class="chapter" data-level="8.5.4" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#adding-figures"><i class="fa fa-check"></i><b>8.5.4</b> Adding figures</a></li>
<li class="chapter" data-level="8.5.5" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#adding-tables"><i class="fa fa-check"></i><b>8.5.5</b> Adding tables</a></li>
<li class="chapter" data-level="8.5.6" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#inline-r-code"><i class="fa fa-check"></i><b>8.5.6</b> Inline R code</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="tips_tricks.html"><a href="tips_tricks.html"><i class="fa fa-check"></i><b>8.6</b> Some tips and tricks</a></li>
<li class="chapter" data-level="8.7" data-path="further-information.html"><a href="further-information.html"><i class="fa fa-check"></i><b>8.7</b> Further Information</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="github_r.html"><a href="github_r.html"><i class="fa fa-check"></i><b>9</b> Version control with Git and GitHub</a>
<ul>
<li class="chapter" data-level="9.1" data-path="what-is-version-control.html"><a href="what-is-version-control.html"><i class="fa fa-check"></i><b>9.1</b> What is version control?</a></li>
<li class="chapter" data-level="9.2" data-path="why-use-version-control.html"><a href="why-use-version-control.html"><i class="fa fa-check"></i><b>9.2</b> Why use version control?</a></li>
<li class="chapter" data-level="9.3" data-path="what-is-git-and-github.html"><a href="what-is-git-and-github.html"><i class="fa fa-check"></i><b>9.3</b> What is Git and GitHub?</a></li>
<li class="chapter" data-level="9.4" data-path="setup_git.html"><a href="setup_git.html"><i class="fa fa-check"></i><b>9.4</b> Getting started</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="setup_git.html"><a href="setup_git.html#install-git"><i class="fa fa-check"></i><b>9.4.1</b> Install Git</a></li>
<li class="chapter" data-level="9.4.2" data-path="setup_git.html"><a href="setup_git.html#configure-git"><i class="fa fa-check"></i><b>9.4.2</b> Configure Git</a></li>
<li class="chapter" data-level="9.4.3" data-path="setup_git.html"><a href="setup_git.html#rs_config"><i class="fa fa-check"></i><b>9.4.3</b> Configure RStudio</a></li>
<li class="chapter" data-level="9.4.4" data-path="setup_git.html"><a href="setup_git.html#register-a-github-account"><i class="fa fa-check"></i><b>9.4.4</b> Register a GitHub account</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="setting-up-a-project-in-rstudio.html"><a href="setting-up-a-project-in-rstudio.html"><i class="fa fa-check"></i><b>9.5</b> Setting up a project in RStudio</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="setting-up-a-project-in-rstudio.html"><a href="setting-up-a-project-in-rstudio.html#opt1"><i class="fa fa-check"></i><b>9.5.1</b> Option 1 - GitHub first</a></li>
<li class="chapter" data-level="9.5.2" data-path="setting-up-a-project-in-rstudio.html"><a href="setting-up-a-project-in-rstudio.html#opt2"><i class="fa fa-check"></i><b>9.5.2</b> Option 2 - RStudio first</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="use_git.html"><a href="use_git.html"><i class="fa fa-check"></i><b>9.6</b> Using Git</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="use_git.html"><a href="use_git.html#tracking-changes"><i class="fa fa-check"></i><b>9.6.1</b> Tracking changes</a></li>
<li class="chapter" data-level="9.6.2" data-path="use_git.html"><a href="use_git.html#commit-history"><i class="fa fa-check"></i><b>9.6.2</b> Commit history</a></li>
<li class="chapter" data-level="9.6.3" data-path="use_git.html"><a href="use_git.html#undo"><i class="fa fa-check"></i><b>9.6.3</b> Reverting changes</a></li>
<li class="chapter" data-level="9.6.4" data-path="use_git.html"><a href="use_git.html#collab"><i class="fa fa-check"></i><b>9.6.4</b> Collaborate with Git</a></li>
<li class="chapter" data-level="9.6.5" data-path="use_git.html"><a href="use_git.html#git-tips"><i class="fa fa-check"></i><b>9.6.5</b> Git tips</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i><b>9.7</b> Further resources</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="install-rm.html"><a href="install-rm.html"><i class="fa fa-check"></i><b>A</b> Installing R Markdown</a>
<ul>
<li class="chapter" data-level="A.1" data-path="ms-windows.html"><a href="ms-windows.html"><i class="fa fa-check"></i><b>A.1</b> MS Windows</a></li>
<li class="chapter" data-level="A.2" data-path="mac-osx.html"><a href="mac-osx.html"><i class="fa fa-check"></i><b>A.2</b> Mac OSX</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">An Introduction to R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="wrangling-data-frames" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Wrangling data frames<a href="wrangling-data-frames.html#wrangling-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now that you’re able to successfully import your data from an external file into R our next task is to do something useful with our data. Working with data is a fundamental skill which you’ll need to develop and get comfortable with as you’ll likely do a lot of it during any project. The good news is that R is especially good at manipulating, summarising and visualising data. Manipulating data (often known as data wrangling or munging) in R can at first seem a little daunting for the new user but if you follow a few simple logical rules then you’ll quickly get the hang of it, especially with some practice.</p>
<p> </p>

<div class="rmdvideo">
<p>See this <a href="https://bit.ly/3eIPkjY">video</a> for a general overview on how to use positional and logical indexes to extract data from a data frame object in R</p>
</div>
<p> </p>
<p>Let’s remind ourselves of the structure of the <code>flowers</code> data frame we imported in the previous section.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="wrangling-data-frames.html#cb112-1" tabindex="-1"></a>flowers <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">file =</span> <span class="st">&#39;data/flower.txt&#39;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\t</span><span class="st">&quot;</span>)</span>
<span id="cb112-2"><a href="wrangling-data-frames.html#cb112-2" tabindex="-1"></a><span class="fu">str</span>(flowers)</span>
<span id="cb112-3"><a href="wrangling-data-frames.html#cb112-3" tabindex="-1"></a><span class="do">## &#39;data.frame&#39;:    96 obs. of  8 variables:</span></span>
<span id="cb112-4"><a href="wrangling-data-frames.html#cb112-4" tabindex="-1"></a><span class="do">##  $ treat    : chr  &quot;tip&quot; &quot;tip&quot; &quot;tip&quot; &quot;tip&quot; ...</span></span>
<span id="cb112-5"><a href="wrangling-data-frames.html#cb112-5" tabindex="-1"></a><span class="do">##  $ nitrogen : chr  &quot;medium&quot; &quot;medium&quot; &quot;medium&quot; &quot;medium&quot; ...</span></span>
<span id="cb112-6"><a href="wrangling-data-frames.html#cb112-6" tabindex="-1"></a><span class="do">##  $ block    : int  1 1 1 1 1 1 1 1 2 2 ...</span></span>
<span id="cb112-7"><a href="wrangling-data-frames.html#cb112-7" tabindex="-1"></a><span class="do">##  $ height   : num  7.5 10.7 11.2 10.4 10.4 9.8 6.9 9.4 10.4 12.3 ...</span></span>
<span id="cb112-8"><a href="wrangling-data-frames.html#cb112-8" tabindex="-1"></a><span class="do">##  $ weight   : num  7.62 12.14 12.76 8.78 13.58 ...</span></span>
<span id="cb112-9"><a href="wrangling-data-frames.html#cb112-9" tabindex="-1"></a><span class="do">##  $ leafarea : num  11.7 14.1 7.1 11.9 14.5 12.2 13.2 14 10.5 16.1 ...</span></span>
<span id="cb112-10"><a href="wrangling-data-frames.html#cb112-10" tabindex="-1"></a><span class="do">##  $ shootarea: num  31.9 46 66.7 20.3 26.9 72.7 43.1 28.5 57.8 36.9 ...</span></span>
<span id="cb112-11"><a href="wrangling-data-frames.html#cb112-11" tabindex="-1"></a><span class="do">##  $ flowers  : int  1 10 10 1 4 9 7 6 5 8 ...</span></span></code></pre></div>
<p>To access the data in any of the variables (columns) in our data frame we can use the <code>$</code> notation. For example, to access the <code>height</code> variable in our <code>flowers</code> data frame we can use <code>flowers$height</code>. This tells R that the <code>height</code> variable is contained within the data frame <code>flowers</code>.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="wrangling-data-frames.html#cb113-1" tabindex="-1"></a>flowers<span class="sc">$</span>height</span>
<span id="cb113-2"><a href="wrangling-data-frames.html#cb113-2" tabindex="-1"></a><span class="do">##  [1]  7.5 10.7 11.2 10.4 10.4  9.8  6.9  9.4 10.4 12.3 10.4 11.0  7.1  6.0  9.0</span></span>
<span id="cb113-3"><a href="wrangling-data-frames.html#cb113-3" tabindex="-1"></a><span class="do">## [16]  4.5 12.6 10.0 10.0  8.5 14.1 10.1  8.5  6.5 11.5  7.7  6.4  8.8  9.2  6.2</span></span>
<span id="cb113-4"><a href="wrangling-data-frames.html#cb113-4" tabindex="-1"></a><span class="do">## [31]  6.3 17.2  8.0  8.0  6.4  7.6  9.7 12.3  9.1  8.9  7.4  3.1  7.9  8.8  8.5</span></span>
<span id="cb113-5"><a href="wrangling-data-frames.html#cb113-5" tabindex="-1"></a><span class="do">## [46]  5.6 11.5  5.8  5.6  5.3  7.5  4.1  3.5  8.5  4.9  2.5  5.4  3.9  5.8  4.5</span></span>
<span id="cb113-6"><a href="wrangling-data-frames.html#cb113-6" tabindex="-1"></a><span class="do">## [61]  8.0  1.8  2.2  3.9  8.5  8.5  6.4  1.2  2.6 10.9  7.2  2.1  4.7  5.0  6.5</span></span>
<span id="cb113-7"><a href="wrangling-data-frames.html#cb113-7" tabindex="-1"></a><span class="do">## [76]  2.6  6.0  9.3  4.6  5.2  3.9  2.3  5.2  2.2  4.5  1.8  3.0  3.7  2.4  5.7</span></span>
<span id="cb113-8"><a href="wrangling-data-frames.html#cb113-8" tabindex="-1"></a><span class="do">## [91]  3.7  3.2  3.9  3.3  5.5  4.4</span></span></code></pre></div>
<p>This will return a vector of the <code>height</code> data. If we want we can assign this vector to another object and do stuff with it, like calculate a mean or get a summary of the variable using the <code>summary()</code> function.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="wrangling-data-frames.html#cb114-1" tabindex="-1"></a>f_height <span class="ot">&lt;-</span> flowers<span class="sc">$</span>height</span>
<span id="cb114-2"><a href="wrangling-data-frames.html#cb114-2" tabindex="-1"></a><span class="fu">mean</span>(f_height)</span>
<span id="cb114-3"><a href="wrangling-data-frames.html#cb114-3" tabindex="-1"></a><span class="do">## [1] 6.839583</span></span>
<span id="cb114-4"><a href="wrangling-data-frames.html#cb114-4" tabindex="-1"></a><span class="fu">summary</span>(f_height)</span>
<span id="cb114-5"><a href="wrangling-data-frames.html#cb114-5" tabindex="-1"></a><span class="do">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb114-6"><a href="wrangling-data-frames.html#cb114-6" tabindex="-1"></a><span class="do">##   1.200   4.475   6.450   6.840   9.025  17.200</span></span></code></pre></div>
<p>Or if we don’t want to create an additional object we can use functions ‘on-the-fly’ to only display the value in the console.</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="wrangling-data-frames.html#cb115-1" tabindex="-1"></a><span class="fu">mean</span>(flowers<span class="sc">$</span>height)</span>
<span id="cb115-2"><a href="wrangling-data-frames.html#cb115-2" tabindex="-1"></a><span class="do">## [1] 6.839583</span></span>
<span id="cb115-3"><a href="wrangling-data-frames.html#cb115-3" tabindex="-1"></a><span class="fu">summary</span>(flowers<span class="sc">$</span>height)</span>
<span id="cb115-4"><a href="wrangling-data-frames.html#cb115-4" tabindex="-1"></a><span class="do">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb115-5"><a href="wrangling-data-frames.html#cb115-5" tabindex="-1"></a><span class="do">##   1.200   4.475   6.450   6.840   9.025  17.200</span></span></code></pre></div>
<p>Just as we did with <a href="vectors.html#vectors">vectors</a>, we also can access data in data frames using the square bracket <code>[ ]</code> notation. However, instead of just using a single index, we now need to use two indexes, one to specify the rows and one for the columns. To do this, we can use the notation <code>my_data[rows, columns]</code> where <code>rows</code> and <code>columns</code> are indexes and <code>my_data</code> is the name of the data frame. Again, just like with our vectors our indexes can be positional or the result of a logical test.</p>
<div id="positional-indexes" class="section level3 hasAnchor" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Positional indexes<a href="wrangling-data-frames.html#positional-indexes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To use positional indexes we simple have to write the position of the rows and columns we want to extract inside the <code>[ ]</code>. For example, if for some reason we wanted to extract the first value (1<sup>st</sup> row ) of the <code>height</code> variable (4<sup>th</sup> column).</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="wrangling-data-frames.html#cb116-1" tabindex="-1"></a>flowers[<span class="dv">1</span>, <span class="dv">4</span>]</span>
<span id="cb116-2"><a href="wrangling-data-frames.html#cb116-2" tabindex="-1"></a><span class="do">## [1] 7.5</span></span>
<span id="cb116-3"><a href="wrangling-data-frames.html#cb116-3" tabindex="-1"></a></span>
<span id="cb116-4"><a href="wrangling-data-frames.html#cb116-4" tabindex="-1"></a><span class="co"># this would give you the same</span></span>
<span id="cb116-5"><a href="wrangling-data-frames.html#cb116-5" tabindex="-1"></a>flowers<span class="sc">$</span>height[<span class="dv">1</span>]</span>
<span id="cb116-6"><a href="wrangling-data-frames.html#cb116-6" tabindex="-1"></a><span class="do">## [1] 7.5</span></span></code></pre></div>
<p>We can also extract values from multiple rows or columns by specifying these indexes as vectors inside the <code>[ ]</code>. To extract the first 10 rows and the first 4 columns we simple supply a vector containing a sequence from 1 to 10 for the rows index (<code>1:10</code>) and a vector from 1 to 4 for the column index (<code>1:4</code>).</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="wrangling-data-frames.html#cb117-1" tabindex="-1"></a>flowers[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb117-2"><a href="wrangling-data-frames.html#cb117-2" tabindex="-1"></a><span class="do">##    treat nitrogen block height</span></span>
<span id="cb117-3"><a href="wrangling-data-frames.html#cb117-3" tabindex="-1"></a><span class="do">## 1    tip   medium     1    7.5</span></span>
<span id="cb117-4"><a href="wrangling-data-frames.html#cb117-4" tabindex="-1"></a><span class="do">## 2    tip   medium     1   10.7</span></span>
<span id="cb117-5"><a href="wrangling-data-frames.html#cb117-5" tabindex="-1"></a><span class="do">## 3    tip   medium     1   11.2</span></span>
<span id="cb117-6"><a href="wrangling-data-frames.html#cb117-6" tabindex="-1"></a><span class="do">## 4    tip   medium     1   10.4</span></span>
<span id="cb117-7"><a href="wrangling-data-frames.html#cb117-7" tabindex="-1"></a><span class="do">## 5    tip   medium     1   10.4</span></span>
<span id="cb117-8"><a href="wrangling-data-frames.html#cb117-8" tabindex="-1"></a><span class="do">## 6    tip   medium     1    9.8</span></span>
<span id="cb117-9"><a href="wrangling-data-frames.html#cb117-9" tabindex="-1"></a><span class="do">## 7    tip   medium     1    6.9</span></span>
<span id="cb117-10"><a href="wrangling-data-frames.html#cb117-10" tabindex="-1"></a><span class="do">## 8    tip   medium     1    9.4</span></span>
<span id="cb117-11"><a href="wrangling-data-frames.html#cb117-11" tabindex="-1"></a><span class="do">## 9    tip   medium     2   10.4</span></span>
<span id="cb117-12"><a href="wrangling-data-frames.html#cb117-12" tabindex="-1"></a><span class="do">## 10   tip   medium     2   12.3</span></span></code></pre></div>
<p>Or for non sequential rows and columns then we can supply vectors of positions using the <code>c()</code> function. To extract the 1<sup>st</sup>, 5<sup>th</sup>, 12<sup>th</sup>, 30<sup>th</sup> rows from the 1<sup>st</sup>, 3<sup>rd</sup>, 6<sup>th</sup> and 8<sup>th</sup> columns.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="wrangling-data-frames.html#cb118-1" tabindex="-1"></a>flowers[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">12</span>, <span class="dv">30</span>), <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">8</span>)]</span>
<span id="cb118-2"><a href="wrangling-data-frames.html#cb118-2" tabindex="-1"></a><span class="do">##    treat block leafarea flowers</span></span>
<span id="cb118-3"><a href="wrangling-data-frames.html#cb118-3" tabindex="-1"></a><span class="do">## 1    tip     1     11.7       1</span></span>
<span id="cb118-4"><a href="wrangling-data-frames.html#cb118-4" tabindex="-1"></a><span class="do">## 5    tip     1     14.5       4</span></span>
<span id="cb118-5"><a href="wrangling-data-frames.html#cb118-5" tabindex="-1"></a><span class="do">## 12   tip     2     12.6       6</span></span>
<span id="cb118-6"><a href="wrangling-data-frames.html#cb118-6" tabindex="-1"></a><span class="do">## 30   tip     2     11.6       5</span></span></code></pre></div>
<p>All we are doing in the two examples above is creating vectors of positions for the rows and columns that we want to extract. We have done this by using the skills we developed in <a href="#funcs">Chapter 2</a> when we generated vectors using the <code>c()</code> function or using the <code>:</code> notation.</p>
<p>But what if we want to extract either all of the rows or all of the columns? It would be extremely tedious to have to generate vectors for all rows or for all columns. Thankfully R has a shortcut. If you don’t specify either a row or column index in the <code>[ ]</code> then R interprets it to mean you want all rows or all columns. For example, to extract the first 8 rows and all of the columns in the <code>flower</code> data frame</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="wrangling-data-frames.html#cb119-1" tabindex="-1"></a>flowers[<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>, ]</span>
<span id="cb119-2"><a href="wrangling-data-frames.html#cb119-2" tabindex="-1"></a><span class="do">##   treat nitrogen block height weight leafarea shootarea flowers</span></span>
<span id="cb119-3"><a href="wrangling-data-frames.html#cb119-3" tabindex="-1"></a><span class="do">## 1   tip   medium     1    7.5   7.62     11.7      31.9       1</span></span>
<span id="cb119-4"><a href="wrangling-data-frames.html#cb119-4" tabindex="-1"></a><span class="do">## 2   tip   medium     1   10.7  12.14     14.1      46.0      10</span></span>
<span id="cb119-5"><a href="wrangling-data-frames.html#cb119-5" tabindex="-1"></a><span class="do">## 3   tip   medium     1   11.2  12.76      7.1      66.7      10</span></span>
<span id="cb119-6"><a href="wrangling-data-frames.html#cb119-6" tabindex="-1"></a><span class="do">## 4   tip   medium     1   10.4   8.78     11.9      20.3       1</span></span>
<span id="cb119-7"><a href="wrangling-data-frames.html#cb119-7" tabindex="-1"></a><span class="do">## 5   tip   medium     1   10.4  13.58     14.5      26.9       4</span></span>
<span id="cb119-8"><a href="wrangling-data-frames.html#cb119-8" tabindex="-1"></a><span class="do">## 6   tip   medium     1    9.8  10.08     12.2      72.7       9</span></span>
<span id="cb119-9"><a href="wrangling-data-frames.html#cb119-9" tabindex="-1"></a><span class="do">## 7   tip   medium     1    6.9  10.11     13.2      43.1       7</span></span>
<span id="cb119-10"><a href="wrangling-data-frames.html#cb119-10" tabindex="-1"></a><span class="do">## 8   tip   medium     1    9.4  10.28     14.0      28.5       6</span></span></code></pre></div>
<p>or all of the rows and the first 3 columns. If you’re reading the web version of this book scroll down in output panel to see all of the data. Note, if you’re reading the pdf version of the book some of the output has been truncated to save some space.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="wrangling-data-frames.html#cb120-1" tabindex="-1"></a>flowers[, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span></code></pre></div>
<pre><code>##    treat nitrogen block
## 1    tip   medium     1
## 2    tip   medium     1
## 3    tip   medium     1
## 4    tip   medium     1
## 5    tip   medium     1
## 6    tip   medium     1
## 7    tip   medium     1
## 8    tip   medium     1
## 9    tip   medium     2
## 10   tip   medium     2
## 11   tip   medium     2
## 12   tip   medium     2
## 13   tip   medium     2
## 14   tip   medium     2
## 15   tip   medium     2
## 16   tip   medium     2
## 17   tip     high     1
## 18   tip     high     1
## 19   tip     high     1
## 20   tip     high     1
## 21   tip     high     1
## 22   tip     high     1
## 23   tip     high     1
## 24   tip     high     1
## 25   tip     high     2
## 26   tip     high     2
## 27   tip     high     2
## 28   tip     high     2
## 29   tip     high     2
## 30   tip     high     2
## 31   tip     high     2
## 32   tip     high     2
## 33   tip      low     1
## 34   tip      low     1
## 35   tip      low     1
## 36   tip      low     1
## 37   tip      low     1
## 38   tip      low     1
## 39   tip      low     1
## 40   tip      low     1
## 41   tip      low     2
## 42   tip      low     2
## 43   tip      low     2
## 44   tip      low     2
## 45   tip      low     2
## 46   tip      low     2
## 47   tip      low     2
## 48   tip      low     2
## 49 notip   medium     1
## 50 notip   medium     1
## 51 notip   medium     1
## 52 notip   medium     1
## 53 notip   medium     1
## 54 notip   medium     1
## 55 notip   medium     1
## 56 notip   medium     1
## 57 notip   medium     2
## 58 notip   medium     2
## 59 notip   medium     2
## 60 notip   medium     2
## 61 notip   medium     2
## 62 notip   medium     2
## 63 notip   medium     2
## 64 notip   medium     2
## 65 notip     high     1
## 66 notip     high     1
## 67 notip     high     1
## 68 notip     high     1
## 69 notip     high     1
## 70 notip     high     1
## 71 notip     high     1
## 72 notip     high     1
## 73 notip     high     2
## 74 notip     high     2
## 75 notip     high     2
## 76 notip     high     2
## 77 notip     high     2
## 78 notip     high     2
## 79 notip     high     2
## 80 notip     high     2
## 81 notip      low     1
## 82 notip      low     1
## 83 notip      low     1
## 84 notip      low     1
## 85 notip      low     1
## 86 notip      low     1
## 87 notip      low     1
## 88 notip      low     1
## 89 notip      low     2
## 90 notip      low     2
## 91 notip      low     2
## 92 notip      low     2
## 93 notip      low     2
## 94 notip      low     2
## 95 notip      low     2
## 96 notip      low     2</code></pre>
<p>We can even use negative positional indexes to exclude certain rows and columns. As an example, lets extract all of the rows except the first 85 rows and all columns except the 4<sup>th</sup>, 7<sup>th</sup> and 8<sup>th</sup> columns. Notice we need to use <code>-()</code> when we generate our row positional vectors. If we had just used <code>-1:85</code> this would actually generate a regular sequence from -1 to 85 which is not what we want (we can of course use <code>-1:-85</code>).</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="wrangling-data-frames.html#cb122-1" tabindex="-1"></a>flowers[<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">85</span>), <span class="sc">-</span><span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">8</span>)]</span>
<span id="cb122-2"><a href="wrangling-data-frames.html#cb122-2" tabindex="-1"></a><span class="do">##    treat nitrogen block weight leafarea</span></span>
<span id="cb122-3"><a href="wrangling-data-frames.html#cb122-3" tabindex="-1"></a><span class="do">## 86 notip      low     1   6.01     17.6</span></span>
<span id="cb122-4"><a href="wrangling-data-frames.html#cb122-4" tabindex="-1"></a><span class="do">## 87 notip      low     1   9.93     12.0</span></span>
<span id="cb122-5"><a href="wrangling-data-frames.html#cb122-5" tabindex="-1"></a><span class="do">## 88 notip      low     1   7.03      7.9</span></span>
<span id="cb122-6"><a href="wrangling-data-frames.html#cb122-6" tabindex="-1"></a><span class="do">## 89 notip      low     2   9.10     14.5</span></span>
<span id="cb122-7"><a href="wrangling-data-frames.html#cb122-7" tabindex="-1"></a><span class="do">## 90 notip      low     2   9.05      9.6</span></span>
<span id="cb122-8"><a href="wrangling-data-frames.html#cb122-8" tabindex="-1"></a><span class="do">## 91 notip      low     2   8.10     10.5</span></span>
<span id="cb122-9"><a href="wrangling-data-frames.html#cb122-9" tabindex="-1"></a><span class="do">## 92 notip      low     2   7.45     14.1</span></span>
<span id="cb122-10"><a href="wrangling-data-frames.html#cb122-10" tabindex="-1"></a><span class="do">## 93 notip      low     2   9.19     12.4</span></span>
<span id="cb122-11"><a href="wrangling-data-frames.html#cb122-11" tabindex="-1"></a><span class="do">## 94 notip      low     2   8.92     11.6</span></span>
<span id="cb122-12"><a href="wrangling-data-frames.html#cb122-12" tabindex="-1"></a><span class="do">## 95 notip      low     2   8.44     13.5</span></span>
<span id="cb122-13"><a href="wrangling-data-frames.html#cb122-13" tabindex="-1"></a><span class="do">## 96 notip      low     2  10.60     16.2</span></span></code></pre></div>
<p>In addition to using a positional index for extracting particular columns (variables) we can also name the variables directly when using the square bracket <code>[ ]</code> notation. For example, let’s extract the first 5 rows and the variables <code>treat</code>, <code>nitrogen</code> and <code>leafarea</code>. Instead of using <code>flowers[1:5, c(1, 2, 6)]</code> we can instead use</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="wrangling-data-frames.html#cb123-1" tabindex="-1"></a>flowers[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="fu">c</span>(<span class="st">&quot;treat&quot;</span>, <span class="st">&quot;nitrogen&quot;</span>, <span class="st">&quot;leafarea&quot;</span>)]</span>
<span id="cb123-2"><a href="wrangling-data-frames.html#cb123-2" tabindex="-1"></a><span class="do">##   treat nitrogen leafarea</span></span>
<span id="cb123-3"><a href="wrangling-data-frames.html#cb123-3" tabindex="-1"></a><span class="do">## 1   tip   medium     11.7</span></span>
<span id="cb123-4"><a href="wrangling-data-frames.html#cb123-4" tabindex="-1"></a><span class="do">## 2   tip   medium     14.1</span></span>
<span id="cb123-5"><a href="wrangling-data-frames.html#cb123-5" tabindex="-1"></a><span class="do">## 3   tip   medium      7.1</span></span>
<span id="cb123-6"><a href="wrangling-data-frames.html#cb123-6" tabindex="-1"></a><span class="do">## 4   tip   medium     11.9</span></span>
<span id="cb123-7"><a href="wrangling-data-frames.html#cb123-7" tabindex="-1"></a><span class="do">## 5   tip   medium     14.5</span></span></code></pre></div>
<p>We often use this method in preference to the positional index for selecting columns as it will still give us what we want even if we’ve changed the order of the columns in our data frame for some reason.</p>
</div>
<div id="logical-indexes" class="section level3 hasAnchor" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Logical indexes<a href="wrangling-data-frames.html#logical-indexes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Just as we did with vectors, we can also extract data from our data frame based on a logical test. We can use all of the logical operators that we used for our vector examples so if these have slipped your mind maybe <a href="#Logical-index">pop back</a> and refresh your memory. Let’s extract all rows where <code>height</code> is greater than 12 and extract all columns by default (remember, if you don’t include a column index after the comma it means all columns).</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="wrangling-data-frames.html#cb124-1" tabindex="-1"></a>big_flowers <span class="ot">&lt;-</span> flowers[flowers<span class="sc">$</span>height <span class="sc">&gt;</span> <span class="dv">12</span>, ]</span>
<span id="cb124-2"><a href="wrangling-data-frames.html#cb124-2" tabindex="-1"></a>big_flowers</span>
<span id="cb124-3"><a href="wrangling-data-frames.html#cb124-3" tabindex="-1"></a><span class="do">##    treat nitrogen block height weight leafarea shootarea flowers</span></span>
<span id="cb124-4"><a href="wrangling-data-frames.html#cb124-4" tabindex="-1"></a><span class="do">## 10   tip   medium     2   12.3  13.48     16.1      36.9       8</span></span>
<span id="cb124-5"><a href="wrangling-data-frames.html#cb124-5" tabindex="-1"></a><span class="do">## 17   tip     high     1   12.6  18.66     18.6      54.0       9</span></span>
<span id="cb124-6"><a href="wrangling-data-frames.html#cb124-6" tabindex="-1"></a><span class="do">## 21   tip     high     1   14.1  19.12     13.1     113.2      13</span></span>
<span id="cb124-7"><a href="wrangling-data-frames.html#cb124-7" tabindex="-1"></a><span class="do">## 32   tip     high     2   17.2  19.20     10.9      89.9      14</span></span>
<span id="cb124-8"><a href="wrangling-data-frames.html#cb124-8" tabindex="-1"></a><span class="do">## 38   tip      low     1   12.3  11.27     13.7      28.7       5</span></span></code></pre></div>
<p>Notice in the code above that we need to use the <code>flowers$height</code> notation for the logical test. If we just named the <code>height</code> variable without the name of the data frame we would receive an error telling us R couldn’t find the variable <code>height</code>. The reason for this is that the <code>height</code> variable only exists inside the <code>flowers</code> data frame so you need to tell R exactly where it is.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="wrangling-data-frames.html#cb125-1" tabindex="-1"></a>big_flowers <span class="ot">&lt;-</span> flowers[height <span class="sc">&gt;</span> <span class="dv">12</span>, ]</span>
<span id="cb125-2"><a href="wrangling-data-frames.html#cb125-2" tabindex="-1"></a>Error <span class="cf">in</span> <span class="st">`</span><span class="at">[.data.frame</span><span class="st">`</span>(flowers, height <span class="sc">&gt;</span> <span class="dv">12</span>, ) <span class="sc">:</span> </span>
<span id="cb125-3"><a href="wrangling-data-frames.html#cb125-3" tabindex="-1"></a>  object <span class="st">&#39;height&#39;</span> not found</span></code></pre></div>
<p>So how does this work? The logical test is <code>flowers$height &gt; 12</code> and R will only extract those rows that satisfy this logical condition. If we look at the output of just the logical condition you can see this returns a vector containing <code>TRUE</code> if <code>height</code> is greater than 12 and <code>FALSE</code> if <code>height</code> is not greater than 12.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="wrangling-data-frames.html#cb126-1" tabindex="-1"></a>flowers<span class="sc">$</span>height <span class="sc">&gt;</span> <span class="dv">12</span></span>
<span id="cb126-2"><a href="wrangling-data-frames.html#cb126-2" tabindex="-1"></a><span class="do">##  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE</span></span>
<span id="cb126-3"><a href="wrangling-data-frames.html#cb126-3" tabindex="-1"></a><span class="do">## [13] FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE</span></span>
<span id="cb126-4"><a href="wrangling-data-frames.html#cb126-4" tabindex="-1"></a><span class="do">## [25] FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE</span></span>
<span id="cb126-5"><a href="wrangling-data-frames.html#cb126-5" tabindex="-1"></a><span class="do">## [37] FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></span>
<span id="cb126-6"><a href="wrangling-data-frames.html#cb126-6" tabindex="-1"></a><span class="do">## [49] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></span>
<span id="cb126-7"><a href="wrangling-data-frames.html#cb126-7" tabindex="-1"></a><span class="do">## [61] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></span>
<span id="cb126-8"><a href="wrangling-data-frames.html#cb126-8" tabindex="-1"></a><span class="do">## [73] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></span>
<span id="cb126-9"><a href="wrangling-data-frames.html#cb126-9" tabindex="-1"></a><span class="do">## [85] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></span></code></pre></div>
<p>So our row index is a vector containing either <code>TRUE</code> or <code>FALSE</code> values and only those rows that are <code>TRUE</code> are selected.</p>
<p>Other commonly used operators are shown below.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="wrangling-data-frames.html#cb127-1" tabindex="-1"></a>flowers[flowers<span class="sc">$</span>height <span class="sc">&gt;=</span> <span class="dv">6</span>, ]        <span class="co"># values greater or equal to 6</span></span>
<span id="cb127-2"><a href="wrangling-data-frames.html#cb127-2" tabindex="-1"></a></span>
<span id="cb127-3"><a href="wrangling-data-frames.html#cb127-3" tabindex="-1"></a>flowers[flowers<span class="sc">$</span>height <span class="sc">&lt;=</span> <span class="dv">6</span>, ]          <span class="co"># values less than or equal to 6</span></span>
<span id="cb127-4"><a href="wrangling-data-frames.html#cb127-4" tabindex="-1"></a></span>
<span id="cb127-5"><a href="wrangling-data-frames.html#cb127-5" tabindex="-1"></a>flowers[flowers<span class="sc">$</span>height <span class="sc">==</span> <span class="dv">8</span>, ]         <span class="co"># values  equal to 8</span></span>
<span id="cb127-6"><a href="wrangling-data-frames.html#cb127-6" tabindex="-1"></a></span>
<span id="cb127-7"><a href="wrangling-data-frames.html#cb127-7" tabindex="-1"></a>flowers[flowers<span class="sc">$</span>height <span class="sc">!=</span> <span class="dv">8</span>, ]         <span class="co"># values  not equal to 8</span></span></code></pre></div>
<p>We can also extract rows based on the value of a character string or factor level. Let’s extract all rows where the <code>nitrogen</code> level is equal to <code>high</code> (again we will output all columns). Notice that the double equals <code>==</code> sign must be used for a logical test and that the character string must be enclosed in either single or double quotes (i.e. <code>"high"</code>).</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="wrangling-data-frames.html#cb128-1" tabindex="-1"></a>nit_high <span class="ot">&lt;-</span> flowers[flowers<span class="sc">$</span>nitrogen <span class="sc">==</span> <span class="st">&quot;high&quot;</span>, ]        </span>
<span id="cb128-2"><a href="wrangling-data-frames.html#cb128-2" tabindex="-1"></a>nit_high</span></code></pre></div>
<pre><code>##    treat nitrogen block height weight leafarea shootarea flowers
## 17   tip     high     1   12.6  18.66     18.6      54.0       9
## 18   tip     high     1   10.0  18.07     16.9      90.5       3
## 19   tip     high     1   10.0  13.29     15.8     142.7      12
## 20   tip     high     1    8.5  14.33     13.2      91.4       5
## 21   tip     high     1   14.1  19.12     13.1     113.2      13
## 22   tip     high     1   10.1  15.49     12.6      77.2      12
## 23   tip     high     1    8.5  17.82     20.5      54.4       3
## 24   tip     high     1    6.5  17.13     24.1     147.4       6
## 25   tip     high     2   11.5  23.89     14.3     101.5      12
## 26   tip     high     2    7.7  14.77     17.2     104.5       4
## 27   tip     high     2    6.4  13.60     13.6     152.6       7
## 28   tip     high     2    8.8  16.58     16.7     100.1       9
## 29   tip     high     2    9.2  13.26     11.3     108.0       9
## 30   tip     high     2    6.2  17.32     11.6      85.9       5
## 31   tip     high     2    6.3  14.50     18.3      55.6       8
## 32   tip     high     2   17.2  19.20     10.9      89.9      14
## 65 notip     high     1    8.5  22.53     20.8     166.9      16
## 66 notip     high     1    8.5  17.33     19.8     184.4      12
## 67 notip     high     1    6.4  11.52     12.1     140.5       7
## 68 notip     high     1    1.2  18.24     16.6     148.1       7
## 69 notip     high     1    2.6  16.57     17.1     141.1       3
## 70 notip     high     1   10.9  17.22     49.2     189.6      17
## 71 notip     high     1    7.2  15.21     15.9     135.0      14
## 72 notip     high     1    2.1  19.15     15.6     176.7       6
## 73 notip     high     2    4.7  13.42     19.8     124.7       5
## 74 notip     high     2    5.0  16.82     17.3     182.5      15
## 75 notip     high     2    6.5  14.00     10.1     126.5       7
## 76 notip     high     2    2.6  18.88     16.4     181.5      14
## 77 notip     high     2    6.0  13.68     16.2     133.7       2
## 78 notip     high     2    9.3  18.75     18.4     181.1      16
## 79 notip     high     2    4.6  14.65     16.7      91.7      11
## 80 notip     high     2    5.2  17.70     19.1     181.1       8</code></pre>
<p>Or we can extract all rows where <code>nitrogen</code> level is not equal to <code>medium</code> (using <code>!=</code>) and only return columns 1 to 4.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="wrangling-data-frames.html#cb130-1" tabindex="-1"></a>nit_not_medium <span class="ot">&lt;-</span> flowers[flowers<span class="sc">$</span>nitrogen <span class="sc">!=</span> <span class="st">&quot;medium&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]        </span>
<span id="cb130-2"><a href="wrangling-data-frames.html#cb130-2" tabindex="-1"></a>nit_not_medium</span></code></pre></div>
<pre><code>##    treat nitrogen block height
## 17   tip     high     1   12.6
## 18   tip     high     1   10.0
## 19   tip     high     1   10.0
## 20   tip     high     1    8.5
## 21   tip     high     1   14.1
## 22   tip     high     1   10.1
## 23   tip     high     1    8.5
## 24   tip     high     1    6.5
## 25   tip     high     2   11.5
## 26   tip     high     2    7.7
## 27   tip     high     2    6.4
## 28   tip     high     2    8.8
## 29   tip     high     2    9.2
## 30   tip     high     2    6.2
## 31   tip     high     2    6.3
## 32   tip     high     2   17.2
## 33   tip      low     1    8.0
## 34   tip      low     1    8.0
## 35   tip      low     1    6.4
## 36   tip      low     1    7.6
## 37   tip      low     1    9.7
## 38   tip      low     1   12.3
## 39   tip      low     1    9.1
## 40   tip      low     1    8.9
## 41   tip      low     2    7.4
## 42   tip      low     2    3.1
## 43   tip      low     2    7.9
## 44   tip      low     2    8.8
## 45   tip      low     2    8.5
## 46   tip      low     2    5.6
## 47   tip      low     2   11.5
## 48   tip      low     2    5.8
## 65 notip     high     1    8.5
## 66 notip     high     1    8.5
## 67 notip     high     1    6.4
## 68 notip     high     1    1.2
## 69 notip     high     1    2.6
## 70 notip     high     1   10.9
## 71 notip     high     1    7.2
## 72 notip     high     1    2.1
## 73 notip     high     2    4.7
## 74 notip     high     2    5.0
## 75 notip     high     2    6.5
## 76 notip     high     2    2.6
## 77 notip     high     2    6.0
## 78 notip     high     2    9.3
## 79 notip     high     2    4.6
## 80 notip     high     2    5.2
## 81 notip      low     1    3.9
## 82 notip      low     1    2.3
## 83 notip      low     1    5.2
## 84 notip      low     1    2.2
## 85 notip      low     1    4.5
## 86 notip      low     1    1.8
## 87 notip      low     1    3.0
## 88 notip      low     1    3.7
## 89 notip      low     2    2.4
## 90 notip      low     2    5.7
## 91 notip      low     2    3.7
## 92 notip      low     2    3.2
## 93 notip      low     2    3.9
## 94 notip      low     2    3.3
## 95 notip      low     2    5.5
## 96 notip      low     2    4.4</code></pre>
<p>We can increase the complexity of our logical tests by combining them with <a href="https://en.wikipedia.org/wiki/Boolean_expression">Boolean expressions</a> just as we did for vector objects. For example, to extract all rows where <code>height</code> is greater or equal to <code>6</code> AND <code>nitrogen</code> is equal to <code>medium</code> AND <code>treat</code> is equal to <code>notip</code> we combine a series of logical expressions with the <code>&amp;</code> symbol.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="wrangling-data-frames.html#cb132-1" tabindex="-1"></a>low_notip_heigh6 <span class="ot">&lt;-</span> flowers[flowers<span class="sc">$</span>height <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> flowers<span class="sc">$</span>nitrogen <span class="sc">==</span> <span class="st">&quot;medium&quot;</span> <span class="sc">&amp;</span></span>
<span id="cb132-2"><a href="wrangling-data-frames.html#cb132-2" tabindex="-1"></a>                             flowers<span class="sc">$</span>treat <span class="sc">==</span> <span class="st">&quot;notip&quot;</span>, ]        </span>
<span id="cb132-3"><a href="wrangling-data-frames.html#cb132-3" tabindex="-1"></a>low_notip_heigh6</span>
<span id="cb132-4"><a href="wrangling-data-frames.html#cb132-4" tabindex="-1"></a><span class="do">##    treat nitrogen block height weight leafarea shootarea flowers</span></span>
<span id="cb132-5"><a href="wrangling-data-frames.html#cb132-5" tabindex="-1"></a><span class="do">## 51 notip   medium     1    7.5  13.60     13.6     122.2      11</span></span>
<span id="cb132-6"><a href="wrangling-data-frames.html#cb132-6" tabindex="-1"></a><span class="do">## 54 notip   medium     1    8.5  10.04     12.3     113.6       4</span></span>
<span id="cb132-7"><a href="wrangling-data-frames.html#cb132-7" tabindex="-1"></a><span class="do">## 61 notip   medium     2    8.0  11.43     12.6      43.2      14</span></span></code></pre></div>
<p>To extract rows based on an ‘OR’ Boolean expression we can use the <code>|</code> symbol. Let’s extract all rows where <code>height</code> is greater than 12.3 OR less than 2.2.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="wrangling-data-frames.html#cb133-1" tabindex="-1"></a>height2<span class="fl">.2</span>_12<span class="fl">.3</span> <span class="ot">&lt;-</span> flowers[flowers<span class="sc">$</span>height <span class="sc">&gt;</span> <span class="fl">12.3</span> <span class="sc">|</span> flowers<span class="sc">$</span>height <span class="sc">&lt;</span> <span class="fl">2.2</span>, ]        </span>
<span id="cb133-2"><a href="wrangling-data-frames.html#cb133-2" tabindex="-1"></a>height2<span class="fl">.2</span>_12<span class="fl">.3</span></span>
<span id="cb133-3"><a href="wrangling-data-frames.html#cb133-3" tabindex="-1"></a><span class="do">##    treat nitrogen block height weight leafarea shootarea flowers</span></span>
<span id="cb133-4"><a href="wrangling-data-frames.html#cb133-4" tabindex="-1"></a><span class="do">## 17   tip     high     1   12.6  18.66     18.6      54.0       9</span></span>
<span id="cb133-5"><a href="wrangling-data-frames.html#cb133-5" tabindex="-1"></a><span class="do">## 21   tip     high     1   14.1  19.12     13.1     113.2      13</span></span>
<span id="cb133-6"><a href="wrangling-data-frames.html#cb133-6" tabindex="-1"></a><span class="do">## 32   tip     high     2   17.2  19.20     10.9      89.9      14</span></span>
<span id="cb133-7"><a href="wrangling-data-frames.html#cb133-7" tabindex="-1"></a><span class="do">## 62 notip   medium     2    1.8  10.47     11.8     120.8       9</span></span>
<span id="cb133-8"><a href="wrangling-data-frames.html#cb133-8" tabindex="-1"></a><span class="do">## 68 notip     high     1    1.2  18.24     16.6     148.1       7</span></span>
<span id="cb133-9"><a href="wrangling-data-frames.html#cb133-9" tabindex="-1"></a><span class="do">## 72 notip     high     1    2.1  19.15     15.6     176.7       6</span></span>
<span id="cb133-10"><a href="wrangling-data-frames.html#cb133-10" tabindex="-1"></a><span class="do">## 86 notip      low     1    1.8   6.01     17.6      46.2       4</span></span></code></pre></div>
<p>An alternative method of selecting parts of a data frame based on a logical expression is to use the <code>subset()</code> function instead of the <code>[ ]</code>. The advantage of using <code>subset()</code> is that you no longer need to use the <code>$</code> notation when specifying variables inside the data frame as the first argument to the function is the name of the data frame to be subsetted. The disadvantage is that <code>subset()</code> is less flexible than the <code>[ ]</code> notation.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="wrangling-data-frames.html#cb134-1" tabindex="-1"></a>tip_med_2 <span class="ot">&lt;-</span> <span class="fu">subset</span>(flowers, treat <span class="sc">==</span> <span class="st">&quot;tip&quot;</span> <span class="sc">&amp;</span> nitrogen <span class="sc">==</span> <span class="st">&quot;medium&quot;</span> <span class="sc">&amp;</span> block <span class="sc">==</span> <span class="dv">2</span>)</span>
<span id="cb134-2"><a href="wrangling-data-frames.html#cb134-2" tabindex="-1"></a>tip_med_2</span>
<span id="cb134-3"><a href="wrangling-data-frames.html#cb134-3" tabindex="-1"></a><span class="do">##    treat nitrogen block height weight leafarea shootarea flowers</span></span>
<span id="cb134-4"><a href="wrangling-data-frames.html#cb134-4" tabindex="-1"></a><span class="do">## 9    tip   medium     2   10.4  10.48     10.5      57.8       5</span></span>
<span id="cb134-5"><a href="wrangling-data-frames.html#cb134-5" tabindex="-1"></a><span class="do">## 10   tip   medium     2   12.3  13.48     16.1      36.9       8</span></span>
<span id="cb134-6"><a href="wrangling-data-frames.html#cb134-6" tabindex="-1"></a><span class="do">## 11   tip   medium     2   10.4  13.18     11.1      56.8      12</span></span>
<span id="cb134-7"><a href="wrangling-data-frames.html#cb134-7" tabindex="-1"></a><span class="do">## 12   tip   medium     2   11.0  11.56     12.6      31.3       6</span></span>
<span id="cb134-8"><a href="wrangling-data-frames.html#cb134-8" tabindex="-1"></a><span class="do">## 13   tip   medium     2    7.1   8.16     29.6       9.7       2</span></span>
<span id="cb134-9"><a href="wrangling-data-frames.html#cb134-9" tabindex="-1"></a><span class="do">## 14   tip   medium     2    6.0  11.22     13.0      16.4       3</span></span>
<span id="cb134-10"><a href="wrangling-data-frames.html#cb134-10" tabindex="-1"></a><span class="do">## 15   tip   medium     2    9.0  10.20     10.8      90.1       6</span></span>
<span id="cb134-11"><a href="wrangling-data-frames.html#cb134-11" tabindex="-1"></a><span class="do">## 16   tip   medium     2    4.5  12.55     13.4      14.4       6</span></span></code></pre></div>
<p>And if you only want certain columns you can use the <code>select =</code> argument.</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="wrangling-data-frames.html#cb135-1" tabindex="-1"></a>tipplants <span class="ot">&lt;-</span> <span class="fu">subset</span>(flowers, treat <span class="sc">==</span> <span class="st">&quot;tip&quot;</span> <span class="sc">&amp;</span> nitrogen <span class="sc">==</span> <span class="st">&quot;medium&quot;</span> <span class="sc">&amp;</span> block <span class="sc">==</span> <span class="dv">2</span>, </span>
<span id="cb135-2"><a href="wrangling-data-frames.html#cb135-2" tabindex="-1"></a>                            <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;treat&quot;</span>, <span class="st">&quot;nitrogen&quot;</span>, <span class="st">&quot;leafarea&quot;</span>))</span>
<span id="cb135-3"><a href="wrangling-data-frames.html#cb135-3" tabindex="-1"></a>tipplants</span>
<span id="cb135-4"><a href="wrangling-data-frames.html#cb135-4" tabindex="-1"></a><span class="do">##    treat nitrogen leafarea</span></span>
<span id="cb135-5"><a href="wrangling-data-frames.html#cb135-5" tabindex="-1"></a><span class="do">## 9    tip   medium     10.5</span></span>
<span id="cb135-6"><a href="wrangling-data-frames.html#cb135-6" tabindex="-1"></a><span class="do">## 10   tip   medium     16.1</span></span>
<span id="cb135-7"><a href="wrangling-data-frames.html#cb135-7" tabindex="-1"></a><span class="do">## 11   tip   medium     11.1</span></span>
<span id="cb135-8"><a href="wrangling-data-frames.html#cb135-8" tabindex="-1"></a><span class="do">## 12   tip   medium     12.6</span></span>
<span id="cb135-9"><a href="wrangling-data-frames.html#cb135-9" tabindex="-1"></a><span class="do">## 13   tip   medium     29.6</span></span>
<span id="cb135-10"><a href="wrangling-data-frames.html#cb135-10" tabindex="-1"></a><span class="do">## 14   tip   medium     13.0</span></span>
<span id="cb135-11"><a href="wrangling-data-frames.html#cb135-11" tabindex="-1"></a><span class="do">## 15   tip   medium     10.8</span></span>
<span id="cb135-12"><a href="wrangling-data-frames.html#cb135-12" tabindex="-1"></a><span class="do">## 16   tip   medium     13.4</span></span></code></pre></div>
</div>
<div id="ordering-data-frames" class="section level3 hasAnchor" number="3.4.3">
<h3><span class="header-section-number">3.4.3</span> Ordering data frames<a href="wrangling-data-frames.html#ordering-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Remember when we used the function <code>order()</code> to order one vector based on the order of another vector (way back in <a href="vectors.html#vec_ord">Chapter 2</a>). This comes in very handy if you want to reorder rows in your data frame. For example, if we want all of the rows in the data frame <code>flowers</code> to be ordered in ascending value of <code>height</code> and output all columns by default. If you’re reading this section of the book on the web you can scroll down in the output panels to see the entire ordered data frame. If you’re reading the pdf version of the book, note that some of the output from the code chunks has been truncated to save some space.</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="wrangling-data-frames.html#cb136-1" tabindex="-1"></a>height_ord <span class="ot">&lt;-</span> flowers[<span class="fu">order</span>(flowers<span class="sc">$</span>height), ]        </span>
<span id="cb136-2"><a href="wrangling-data-frames.html#cb136-2" tabindex="-1"></a>height_ord</span></code></pre></div>
<pre><code>##    treat nitrogen block height weight leafarea shootarea flowers
## 68 notip     high     1    1.2  18.24     16.6     148.1       7
## 62 notip   medium     2    1.8  10.47     11.8     120.8       9
## 86 notip      low     1    1.8   6.01     17.6      46.2       4
## 72 notip     high     1    2.1  19.15     15.6     176.7       6
## 63 notip   medium     2    2.2  10.70     15.3      97.1       7
## 84 notip      low     1    2.2   9.97      9.6      63.1       2
## 82 notip      low     1    2.3   7.28     13.8      32.8       6
## 89 notip      low     2    2.4   9.10     14.5      78.7       8
## 56 notip   medium     1    2.5  14.85     17.5      77.8      10
## 69 notip     high     1    2.6  16.57     17.1     141.1       3
## 76 notip     high     2    2.6  18.88     16.4     181.5      14
## 87 notip      low     1    3.0   9.93     12.0      56.6       6
## 42   tip      low     2    3.1   8.74     16.1      39.1       3
## 92 notip      low     2    3.2   7.45     14.1      38.1       4
## 94 notip      low     2    3.3   8.92     11.6      55.2       6
## 53 notip   medium     1    3.5  12.93     16.6     109.3       3
## 88 notip      low     1    3.7   7.03      7.9      36.7       5
## 91 notip      low     2    3.7   8.10     10.5      60.5       6
## 58 notip   medium     2    3.9   9.07      9.6      90.4       7
## 64 notip   medium     2    3.9  12.97     17.0      97.5       5
## 81 notip      low     1    3.9   7.17     13.5      52.8       6
## 93 notip      low     2    3.9   9.19     12.4      52.6       9
## 52 notip   medium     1    4.1  12.58     13.9     136.6      11
## 96 notip      low     2    4.4  10.60     16.2      63.3       6
## 16   tip   medium     2    4.5  12.55     13.4      14.4       6
## 60 notip   medium     2    4.5  13.68     14.8     125.5       9
## 85 notip      low     1    4.5   8.60      9.4     113.5       7
## 79 notip     high     2    4.6  14.65     16.7      91.7      11
## 73 notip     high     2    4.7  13.42     19.8     124.7       5
## 55 notip   medium     1    4.9   6.89      8.2      52.9       3
## 74 notip     high     2    5.0  16.82     17.3     182.5      15
## 80 notip     high     2    5.2  17.70     19.1     181.1       8
## 83 notip      low     1    5.2   5.79     11.0      67.4       5
## 50 notip   medium     1    5.3   9.29     11.5      82.3       6
## 57 notip   medium     2    5.4  11.36     17.8     104.6      12
## 95 notip      low     2    5.5   8.44     13.5      77.6       9
## 46   tip      low     2    5.6   8.10     10.1       5.8       2
## 49 notip   medium     1    5.6  11.03     18.6      49.9       8
## 90 notip      low     2    5.7   9.05      9.6      63.2       6
## 48   tip      low     2    5.8   8.04      5.8      30.7       7
## 59 notip   medium     2    5.8  10.18     15.7      88.8       6
## 14   tip   medium     2    6.0  11.22     13.0      16.4       3
## 77 notip     high     2    6.0  13.68     16.2     133.7       2
## 30   tip     high     2    6.2  17.32     11.6      85.9       5
## 31   tip     high     2    6.3  14.50     18.3      55.6       8
## 27   tip     high     2    6.4  13.60     13.6     152.6       7
## 35   tip      low     1    6.4   5.97      8.7       7.3       2
## 67 notip     high     1    6.4  11.52     12.1     140.5       7
## 24   tip     high     1    6.5  17.13     24.1     147.4       6
## 75 notip     high     2    6.5  14.00     10.1     126.5       7
## 7    tip   medium     1    6.9  10.11     13.2      43.1       7
## 13   tip   medium     2    7.1   8.16     29.6       9.7       2
## 71 notip     high     1    7.2  15.21     15.9     135.0      14
## 41   tip      low     2    7.4  10.89     13.3       9.5       5
## 1    tip   medium     1    7.5   7.62     11.7      31.9       1
## 51 notip   medium     1    7.5  13.60     13.6     122.2      11
## 36   tip      low     1    7.6  13.05      7.2      47.2       8
## 26   tip     high     2    7.7  14.77     17.2     104.5       4
## 43   tip      low     2    7.9   8.89      8.4      34.1       4
## 33   tip      low     1    8.0   6.88      9.3      16.1       4
## 34   tip      low     1    8.0  10.23     11.9      88.1       4
## 61 notip   medium     2    8.0  11.43     12.6      43.2      14
## 20   tip     high     1    8.5  14.33     13.2      91.4       5
## 23   tip     high     1    8.5  17.82     20.5      54.4       3
## 45   tip      low     2    8.5   7.16      8.7      29.9       4
## 54 notip   medium     1    8.5  10.04     12.3     113.6       4
## 65 notip     high     1    8.5  22.53     20.8     166.9      16
## 66 notip     high     1    8.5  17.33     19.8     184.4      12
## 28   tip     high     2    8.8  16.58     16.7     100.1       9
## 44   tip      low     2    8.8   9.39      7.1      38.9       4
## 40   tip      low     1    8.9  11.48     11.1      39.4       7
## 15   tip   medium     2    9.0  10.20     10.8      90.1       6
## 39   tip      low     1    9.1   8.96      9.7      23.8       3
## 29   tip     high     2    9.2  13.26     11.3     108.0       9
## 78 notip     high     2    9.3  18.75     18.4     181.1      16
## 8    tip   medium     1    9.4  10.28     14.0      28.5       6
## 37   tip      low     1    9.7   6.49      8.1      18.0       3
## 6    tip   medium     1    9.8  10.08     12.2      72.7       9
## 18   tip     high     1   10.0  18.07     16.9      90.5       3
## 19   tip     high     1   10.0  13.29     15.8     142.7      12
## 22   tip     high     1   10.1  15.49     12.6      77.2      12
## 4    tip   medium     1   10.4   8.78     11.9      20.3       1
## 5    tip   medium     1   10.4  13.58     14.5      26.9       4
## 9    tip   medium     2   10.4  10.48     10.5      57.8       5
## 11   tip   medium     2   10.4  13.18     11.1      56.8      12
## 2    tip   medium     1   10.7  12.14     14.1      46.0      10
## 70 notip     high     1   10.9  17.22     49.2     189.6      17
## 12   tip   medium     2   11.0  11.56     12.6      31.3       6
## 3    tip   medium     1   11.2  12.76      7.1      66.7      10
## 25   tip     high     2   11.5  23.89     14.3     101.5      12
## 47   tip      low     2   11.5   8.72     10.2      28.3       6
## 10   tip   medium     2   12.3  13.48     16.1      36.9       8
## 38   tip      low     1   12.3  11.27     13.7      28.7       5
## 17   tip     high     1   12.6  18.66     18.6      54.0       9
## 21   tip     high     1   14.1  19.12     13.1     113.2      13
## 32   tip     high     2   17.2  19.20     10.9      89.9      14</code></pre>
<p>We can also order by descending order of a variable (i.e. <code>leafarea</code>) using the <code>decreasing = TRUE</code> argument.</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="wrangling-data-frames.html#cb138-1" tabindex="-1"></a>leafarea_ord <span class="ot">&lt;-</span> flowers[<span class="fu">order</span>(flowers<span class="sc">$</span>leafarea, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), ]        </span>
<span id="cb138-2"><a href="wrangling-data-frames.html#cb138-2" tabindex="-1"></a>leafarea_ord</span></code></pre></div>
<pre><code>##    treat nitrogen block height weight leafarea shootarea flowers
## 70 notip     high     1   10.9  17.22     49.2     189.6      17
## 13   tip   medium     2    7.1   8.16     29.6       9.7       2
## 24   tip     high     1    6.5  17.13     24.1     147.4       6
## 65 notip     high     1    8.5  22.53     20.8     166.9      16
## 23   tip     high     1    8.5  17.82     20.5      54.4       3
## 66 notip     high     1    8.5  17.33     19.8     184.4      12
## 73 notip     high     2    4.7  13.42     19.8     124.7       5
## 80 notip     high     2    5.2  17.70     19.1     181.1       8
## 17   tip     high     1   12.6  18.66     18.6      54.0       9
## 49 notip   medium     1    5.6  11.03     18.6      49.9       8
## 78 notip     high     2    9.3  18.75     18.4     181.1      16
## 31   tip     high     2    6.3  14.50     18.3      55.6       8
## 57 notip   medium     2    5.4  11.36     17.8     104.6      12
## 86 notip      low     1    1.8   6.01     17.6      46.2       4
## 56 notip   medium     1    2.5  14.85     17.5      77.8      10
## 74 notip     high     2    5.0  16.82     17.3     182.5      15
## 26   tip     high     2    7.7  14.77     17.2     104.5       4
## 69 notip     high     1    2.6  16.57     17.1     141.1       3
## 64 notip   medium     2    3.9  12.97     17.0      97.5       5
## 18   tip     high     1   10.0  18.07     16.9      90.5       3
## 28   tip     high     2    8.8  16.58     16.7     100.1       9
## 79 notip     high     2    4.6  14.65     16.7      91.7      11
## 53 notip   medium     1    3.5  12.93     16.6     109.3       3
## 68 notip     high     1    1.2  18.24     16.6     148.1       7
## 76 notip     high     2    2.6  18.88     16.4     181.5      14
## 77 notip     high     2    6.0  13.68     16.2     133.7       2
## 96 notip      low     2    4.4  10.60     16.2      63.3       6
## 10   tip   medium     2   12.3  13.48     16.1      36.9       8
## 42   tip      low     2    3.1   8.74     16.1      39.1       3
## 71 notip     high     1    7.2  15.21     15.9     135.0      14
## 19   tip     high     1   10.0  13.29     15.8     142.7      12
## 59 notip   medium     2    5.8  10.18     15.7      88.8       6
## 72 notip     high     1    2.1  19.15     15.6     176.7       6
## 63 notip   medium     2    2.2  10.70     15.3      97.1       7
## 60 notip   medium     2    4.5  13.68     14.8     125.5       9
## 5    tip   medium     1   10.4  13.58     14.5      26.9       4
## 89 notip      low     2    2.4   9.10     14.5      78.7       8
## 25   tip     high     2   11.5  23.89     14.3     101.5      12
## 2    tip   medium     1   10.7  12.14     14.1      46.0      10
## 92 notip      low     2    3.2   7.45     14.1      38.1       4
## 8    tip   medium     1    9.4  10.28     14.0      28.5       6
## 52 notip   medium     1    4.1  12.58     13.9     136.6      11
## 82 notip      low     1    2.3   7.28     13.8      32.8       6
## 38   tip      low     1   12.3  11.27     13.7      28.7       5
## 27   tip     high     2    6.4  13.60     13.6     152.6       7
## 51 notip   medium     1    7.5  13.60     13.6     122.2      11
## 81 notip      low     1    3.9   7.17     13.5      52.8       6
## 95 notip      low     2    5.5   8.44     13.5      77.6       9
## 16   tip   medium     2    4.5  12.55     13.4      14.4       6
## 41   tip      low     2    7.4  10.89     13.3       9.5       5
## 7    tip   medium     1    6.9  10.11     13.2      43.1       7
## 20   tip     high     1    8.5  14.33     13.2      91.4       5
## 21   tip     high     1   14.1  19.12     13.1     113.2      13
## 14   tip   medium     2    6.0  11.22     13.0      16.4       3
## 12   tip   medium     2   11.0  11.56     12.6      31.3       6
## 22   tip     high     1   10.1  15.49     12.6      77.2      12
## 61 notip   medium     2    8.0  11.43     12.6      43.2      14
## 93 notip      low     2    3.9   9.19     12.4      52.6       9
## 54 notip   medium     1    8.5  10.04     12.3     113.6       4
## 6    tip   medium     1    9.8  10.08     12.2      72.7       9
## 67 notip     high     1    6.4  11.52     12.1     140.5       7
## 87 notip      low     1    3.0   9.93     12.0      56.6       6
## 4    tip   medium     1   10.4   8.78     11.9      20.3       1
## 34   tip      low     1    8.0  10.23     11.9      88.1       4
## 62 notip   medium     2    1.8  10.47     11.8     120.8       9
## 1    tip   medium     1    7.5   7.62     11.7      31.9       1
## 30   tip     high     2    6.2  17.32     11.6      85.9       5
## 94 notip      low     2    3.3   8.92     11.6      55.2       6
## 50 notip   medium     1    5.3   9.29     11.5      82.3       6
## 29   tip     high     2    9.2  13.26     11.3     108.0       9
## 11   tip   medium     2   10.4  13.18     11.1      56.8      12
## 40   tip      low     1    8.9  11.48     11.1      39.4       7
## 83 notip      low     1    5.2   5.79     11.0      67.4       5
## 32   tip     high     2   17.2  19.20     10.9      89.9      14
## 15   tip   medium     2    9.0  10.20     10.8      90.1       6
## 9    tip   medium     2   10.4  10.48     10.5      57.8       5
## 91 notip      low     2    3.7   8.10     10.5      60.5       6
## 47   tip      low     2   11.5   8.72     10.2      28.3       6
## 46   tip      low     2    5.6   8.10     10.1       5.8       2
## 75 notip     high     2    6.5  14.00     10.1     126.5       7
## 39   tip      low     1    9.1   8.96      9.7      23.8       3
## 58 notip   medium     2    3.9   9.07      9.6      90.4       7
## 84 notip      low     1    2.2   9.97      9.6      63.1       2
## 90 notip      low     2    5.7   9.05      9.6      63.2       6
## 85 notip      low     1    4.5   8.60      9.4     113.5       7
## 33   tip      low     1    8.0   6.88      9.3      16.1       4
## 35   tip      low     1    6.4   5.97      8.7       7.3       2
## 45   tip      low     2    8.5   7.16      8.7      29.9       4
## 43   tip      low     2    7.9   8.89      8.4      34.1       4
## 55 notip   medium     1    4.9   6.89      8.2      52.9       3
## 37   tip      low     1    9.7   6.49      8.1      18.0       3
## 88 notip      low     1    3.7   7.03      7.9      36.7       5
## 36   tip      low     1    7.6  13.05      7.2      47.2       8
## 3    tip   medium     1   11.2  12.76      7.1      66.7      10
## 44   tip      low     2    8.8   9.39      7.1      38.9       4
## 48   tip      low     2    5.8   8.04      5.8      30.7       7</code></pre>
<p>We can even order data frames based on multiple variables. For example, to order the data frame <code>flowers</code> in ascending order of both <code>block</code> and <code>height</code>.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="wrangling-data-frames.html#cb140-1" tabindex="-1"></a>block_height_ord <span class="ot">&lt;-</span> flowers[<span class="fu">order</span>(flowers<span class="sc">$</span>block, flowers<span class="sc">$</span>height), ]        </span>
<span id="cb140-2"><a href="wrangling-data-frames.html#cb140-2" tabindex="-1"></a>block_height_ord</span></code></pre></div>
<pre><code>##    treat nitrogen block height weight leafarea shootarea flowers
## 68 notip     high     1    1.2  18.24     16.6     148.1       7
## 86 notip      low     1    1.8   6.01     17.6      46.2       4
## 72 notip     high     1    2.1  19.15     15.6     176.7       6
## 84 notip      low     1    2.2   9.97      9.6      63.1       2
## 82 notip      low     1    2.3   7.28     13.8      32.8       6
## 56 notip   medium     1    2.5  14.85     17.5      77.8      10
## 69 notip     high     1    2.6  16.57     17.1     141.1       3
## 87 notip      low     1    3.0   9.93     12.0      56.6       6
## 53 notip   medium     1    3.5  12.93     16.6     109.3       3
## 88 notip      low     1    3.7   7.03      7.9      36.7       5
## 81 notip      low     1    3.9   7.17     13.5      52.8       6
## 52 notip   medium     1    4.1  12.58     13.9     136.6      11
## 85 notip      low     1    4.5   8.60      9.4     113.5       7
## 55 notip   medium     1    4.9   6.89      8.2      52.9       3
## 83 notip      low     1    5.2   5.79     11.0      67.4       5
## 50 notip   medium     1    5.3   9.29     11.5      82.3       6
## 49 notip   medium     1    5.6  11.03     18.6      49.9       8
## 35   tip      low     1    6.4   5.97      8.7       7.3       2
## 67 notip     high     1    6.4  11.52     12.1     140.5       7
## 24   tip     high     1    6.5  17.13     24.1     147.4       6
## 7    tip   medium     1    6.9  10.11     13.2      43.1       7
## 71 notip     high     1    7.2  15.21     15.9     135.0      14
## 1    tip   medium     1    7.5   7.62     11.7      31.9       1
## 51 notip   medium     1    7.5  13.60     13.6     122.2      11
## 36   tip      low     1    7.6  13.05      7.2      47.2       8
## 33   tip      low     1    8.0   6.88      9.3      16.1       4
## 34   tip      low     1    8.0  10.23     11.9      88.1       4
## 20   tip     high     1    8.5  14.33     13.2      91.4       5
## 23   tip     high     1    8.5  17.82     20.5      54.4       3
## 54 notip   medium     1    8.5  10.04     12.3     113.6       4
## 65 notip     high     1    8.5  22.53     20.8     166.9      16
## 66 notip     high     1    8.5  17.33     19.8     184.4      12
## 40   tip      low     1    8.9  11.48     11.1      39.4       7
## 39   tip      low     1    9.1   8.96      9.7      23.8       3
## 8    tip   medium     1    9.4  10.28     14.0      28.5       6
## 37   tip      low     1    9.7   6.49      8.1      18.0       3
## 6    tip   medium     1    9.8  10.08     12.2      72.7       9
## 18   tip     high     1   10.0  18.07     16.9      90.5       3
## 19   tip     high     1   10.0  13.29     15.8     142.7      12
## 22   tip     high     1   10.1  15.49     12.6      77.2      12
## 4    tip   medium     1   10.4   8.78     11.9      20.3       1
## 5    tip   medium     1   10.4  13.58     14.5      26.9       4
## 2    tip   medium     1   10.7  12.14     14.1      46.0      10
## 70 notip     high     1   10.9  17.22     49.2     189.6      17
## 3    tip   medium     1   11.2  12.76      7.1      66.7      10
## 38   tip      low     1   12.3  11.27     13.7      28.7       5
## 17   tip     high     1   12.6  18.66     18.6      54.0       9
## 21   tip     high     1   14.1  19.12     13.1     113.2      13
## 62 notip   medium     2    1.8  10.47     11.8     120.8       9
## 63 notip   medium     2    2.2  10.70     15.3      97.1       7
## 89 notip      low     2    2.4   9.10     14.5      78.7       8
## 76 notip     high     2    2.6  18.88     16.4     181.5      14
## 42   tip      low     2    3.1   8.74     16.1      39.1       3
## 92 notip      low     2    3.2   7.45     14.1      38.1       4
## 94 notip      low     2    3.3   8.92     11.6      55.2       6
## 91 notip      low     2    3.7   8.10     10.5      60.5       6
## 58 notip   medium     2    3.9   9.07      9.6      90.4       7
## 64 notip   medium     2    3.9  12.97     17.0      97.5       5
## 93 notip      low     2    3.9   9.19     12.4      52.6       9
## 96 notip      low     2    4.4  10.60     16.2      63.3       6
## 16   tip   medium     2    4.5  12.55     13.4      14.4       6
## 60 notip   medium     2    4.5  13.68     14.8     125.5       9
## 79 notip     high     2    4.6  14.65     16.7      91.7      11
## 73 notip     high     2    4.7  13.42     19.8     124.7       5
## 74 notip     high     2    5.0  16.82     17.3     182.5      15
## 80 notip     high     2    5.2  17.70     19.1     181.1       8
## 57 notip   medium     2    5.4  11.36     17.8     104.6      12
## 95 notip      low     2    5.5   8.44     13.5      77.6       9
## 46   tip      low     2    5.6   8.10     10.1       5.8       2
## 90 notip      low     2    5.7   9.05      9.6      63.2       6
## 48   tip      low     2    5.8   8.04      5.8      30.7       7
## 59 notip   medium     2    5.8  10.18     15.7      88.8       6
## 14   tip   medium     2    6.0  11.22     13.0      16.4       3
## 77 notip     high     2    6.0  13.68     16.2     133.7       2
## 30   tip     high     2    6.2  17.32     11.6      85.9       5
## 31   tip     high     2    6.3  14.50     18.3      55.6       8
## 27   tip     high     2    6.4  13.60     13.6     152.6       7
## 75 notip     high     2    6.5  14.00     10.1     126.5       7
## 13   tip   medium     2    7.1   8.16     29.6       9.7       2
## 41   tip      low     2    7.4  10.89     13.3       9.5       5
## 26   tip     high     2    7.7  14.77     17.2     104.5       4
## 43   tip      low     2    7.9   8.89      8.4      34.1       4
## 61 notip   medium     2    8.0  11.43     12.6      43.2      14
## 45   tip      low     2    8.5   7.16      8.7      29.9       4
## 28   tip     high     2    8.8  16.58     16.7     100.1       9
## 44   tip      low     2    8.8   9.39      7.1      38.9       4
## 15   tip   medium     2    9.0  10.20     10.8      90.1       6
## 29   tip     high     2    9.2  13.26     11.3     108.0       9
## 78 notip     high     2    9.3  18.75     18.4     181.1      16
## 9    tip   medium     2   10.4  10.48     10.5      57.8       5
## 11   tip   medium     2   10.4  13.18     11.1      56.8      12
## 12   tip   medium     2   11.0  11.56     12.6      31.3       6
## 25   tip     high     2   11.5  23.89     14.3     101.5      12
## 47   tip      low     2   11.5   8.72     10.2      28.3       6
## 10   tip   medium     2   12.3  13.48     16.1      36.9       8
## 32   tip     high     2   17.2  19.20     10.9      89.9      14</code></pre>
<p>What if we wanted to order <code>flowers</code> by ascending order of <code>block</code> but descending order of <code>height</code>? We can use a simple trick by adding a <code>-</code> symbol before the <code>flowers$height</code> variable when we use the <code>order()</code> function. This will essentially turn all of the <code>height</code> values negative which will result in reversing the order. Note, that this trick will only work with numeric variables.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="wrangling-data-frames.html#cb142-1" tabindex="-1"></a>block_revheight_ord <span class="ot">&lt;-</span> flowers[<span class="fu">order</span>(flowers<span class="sc">$</span>block, <span class="sc">-</span>flowers<span class="sc">$</span>height), ]        </span>
<span id="cb142-2"><a href="wrangling-data-frames.html#cb142-2" tabindex="-1"></a>block_revheight_ord</span></code></pre></div>
<pre><code>##    treat nitrogen block height weight leafarea shootarea flowers
## 21   tip     high     1   14.1  19.12     13.1     113.2      13
## 17   tip     high     1   12.6  18.66     18.6      54.0       9
## 38   tip      low     1   12.3  11.27     13.7      28.7       5
## 3    tip   medium     1   11.2  12.76      7.1      66.7      10
## 70 notip     high     1   10.9  17.22     49.2     189.6      17
## 2    tip   medium     1   10.7  12.14     14.1      46.0      10
## 4    tip   medium     1   10.4   8.78     11.9      20.3       1
## 5    tip   medium     1   10.4  13.58     14.5      26.9       4
## 22   tip     high     1   10.1  15.49     12.6      77.2      12
## 18   tip     high     1   10.0  18.07     16.9      90.5       3
## 19   tip     high     1   10.0  13.29     15.8     142.7      12
## 6    tip   medium     1    9.8  10.08     12.2      72.7       9
## 37   tip      low     1    9.7   6.49      8.1      18.0       3
## 8    tip   medium     1    9.4  10.28     14.0      28.5       6
## 39   tip      low     1    9.1   8.96      9.7      23.8       3
## 40   tip      low     1    8.9  11.48     11.1      39.4       7
## 20   tip     high     1    8.5  14.33     13.2      91.4       5
## 23   tip     high     1    8.5  17.82     20.5      54.4       3
## 54 notip   medium     1    8.5  10.04     12.3     113.6       4
## 65 notip     high     1    8.5  22.53     20.8     166.9      16
## 66 notip     high     1    8.5  17.33     19.8     184.4      12
## 33   tip      low     1    8.0   6.88      9.3      16.1       4
## 34   tip      low     1    8.0  10.23     11.9      88.1       4
## 36   tip      low     1    7.6  13.05      7.2      47.2       8
## 1    tip   medium     1    7.5   7.62     11.7      31.9       1
## 51 notip   medium     1    7.5  13.60     13.6     122.2      11
## 71 notip     high     1    7.2  15.21     15.9     135.0      14
## 7    tip   medium     1    6.9  10.11     13.2      43.1       7
## 24   tip     high     1    6.5  17.13     24.1     147.4       6
## 35   tip      low     1    6.4   5.97      8.7       7.3       2
## 67 notip     high     1    6.4  11.52     12.1     140.5       7
## 49 notip   medium     1    5.6  11.03     18.6      49.9       8
## 50 notip   medium     1    5.3   9.29     11.5      82.3       6
## 83 notip      low     1    5.2   5.79     11.0      67.4       5
## 55 notip   medium     1    4.9   6.89      8.2      52.9       3
## 85 notip      low     1    4.5   8.60      9.4     113.5       7
## 52 notip   medium     1    4.1  12.58     13.9     136.6      11
## 81 notip      low     1    3.9   7.17     13.5      52.8       6
## 88 notip      low     1    3.7   7.03      7.9      36.7       5
## 53 notip   medium     1    3.5  12.93     16.6     109.3       3
## 87 notip      low     1    3.0   9.93     12.0      56.6       6
## 69 notip     high     1    2.6  16.57     17.1     141.1       3
## 56 notip   medium     1    2.5  14.85     17.5      77.8      10
## 82 notip      low     1    2.3   7.28     13.8      32.8       6
## 84 notip      low     1    2.2   9.97      9.6      63.1       2
## 72 notip     high     1    2.1  19.15     15.6     176.7       6
## 86 notip      low     1    1.8   6.01     17.6      46.2       4
## 68 notip     high     1    1.2  18.24     16.6     148.1       7
## 32   tip     high     2   17.2  19.20     10.9      89.9      14
## 10   tip   medium     2   12.3  13.48     16.1      36.9       8
## 25   tip     high     2   11.5  23.89     14.3     101.5      12
## 47   tip      low     2   11.5   8.72     10.2      28.3       6
## 12   tip   medium     2   11.0  11.56     12.6      31.3       6
## 9    tip   medium     2   10.4  10.48     10.5      57.8       5
## 11   tip   medium     2   10.4  13.18     11.1      56.8      12
## 78 notip     high     2    9.3  18.75     18.4     181.1      16
## 29   tip     high     2    9.2  13.26     11.3     108.0       9
## 15   tip   medium     2    9.0  10.20     10.8      90.1       6
## 28   tip     high     2    8.8  16.58     16.7     100.1       9
## 44   tip      low     2    8.8   9.39      7.1      38.9       4
## 45   tip      low     2    8.5   7.16      8.7      29.9       4
## 61 notip   medium     2    8.0  11.43     12.6      43.2      14
## 43   tip      low     2    7.9   8.89      8.4      34.1       4
## 26   tip     high     2    7.7  14.77     17.2     104.5       4
## 41   tip      low     2    7.4  10.89     13.3       9.5       5
## 13   tip   medium     2    7.1   8.16     29.6       9.7       2
## 75 notip     high     2    6.5  14.00     10.1     126.5       7
## 27   tip     high     2    6.4  13.60     13.6     152.6       7
## 31   tip     high     2    6.3  14.50     18.3      55.6       8
## 30   tip     high     2    6.2  17.32     11.6      85.9       5
## 14   tip   medium     2    6.0  11.22     13.0      16.4       3
## 77 notip     high     2    6.0  13.68     16.2     133.7       2
## 48   tip      low     2    5.8   8.04      5.8      30.7       7
## 59 notip   medium     2    5.8  10.18     15.7      88.8       6
## 90 notip      low     2    5.7   9.05      9.6      63.2       6
## 46   tip      low     2    5.6   8.10     10.1       5.8       2
## 95 notip      low     2    5.5   8.44     13.5      77.6       9
## 57 notip   medium     2    5.4  11.36     17.8     104.6      12
## 80 notip     high     2    5.2  17.70     19.1     181.1       8
## 74 notip     high     2    5.0  16.82     17.3     182.5      15
## 73 notip     high     2    4.7  13.42     19.8     124.7       5
## 79 notip     high     2    4.6  14.65     16.7      91.7      11
## 16   tip   medium     2    4.5  12.55     13.4      14.4       6
## 60 notip   medium     2    4.5  13.68     14.8     125.5       9
## 96 notip      low     2    4.4  10.60     16.2      63.3       6
## 58 notip   medium     2    3.9   9.07      9.6      90.4       7
## 64 notip   medium     2    3.9  12.97     17.0      97.5       5
## 93 notip      low     2    3.9   9.19     12.4      52.6       9
## 91 notip      low     2    3.7   8.10     10.5      60.5       6
## 94 notip      low     2    3.3   8.92     11.6      55.2       6
## 92 notip      low     2    3.2   7.45     14.1      38.1       4
## 42   tip      low     2    3.1   8.74     16.1      39.1       3
## 76 notip     high     2    2.6  18.88     16.4     181.5      14
## 89 notip      low     2    2.4   9.10     14.5      78.7       8
## 63 notip   medium     2    2.2  10.70     15.3      97.1       7
## 62 notip   medium     2    1.8  10.47     11.8     120.8       9</code></pre>
<p>If we wanted to do the same thing with a factor (or character) variable like <code>nitrogen</code> we would need to use the function <code>xtfrm()</code> for this variable inside our <code>order()</code> function.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="wrangling-data-frames.html#cb144-1" tabindex="-1"></a>block_revheight_ord <span class="ot">&lt;-</span> flowers[<span class="fu">order</span>(<span class="sc">-</span><span class="fu">xtfrm</span>(flowers<span class="sc">$</span>nitrogen), flowers<span class="sc">$</span>height), ]        </span>
<span id="cb144-2"><a href="wrangling-data-frames.html#cb144-2" tabindex="-1"></a>block_revheight_ord</span></code></pre></div>
<pre><code>##    treat nitrogen block height weight leafarea shootarea flowers
## 62 notip   medium     2    1.8  10.47     11.8     120.8       9
## 63 notip   medium     2    2.2  10.70     15.3      97.1       7
## 56 notip   medium     1    2.5  14.85     17.5      77.8      10
## 53 notip   medium     1    3.5  12.93     16.6     109.3       3
## 58 notip   medium     2    3.9   9.07      9.6      90.4       7
## 64 notip   medium     2    3.9  12.97     17.0      97.5       5
## 52 notip   medium     1    4.1  12.58     13.9     136.6      11
## 16   tip   medium     2    4.5  12.55     13.4      14.4       6
## 60 notip   medium     2    4.5  13.68     14.8     125.5       9
## 55 notip   medium     1    4.9   6.89      8.2      52.9       3
## 50 notip   medium     1    5.3   9.29     11.5      82.3       6
## 57 notip   medium     2    5.4  11.36     17.8     104.6      12
## 49 notip   medium     1    5.6  11.03     18.6      49.9       8
## 59 notip   medium     2    5.8  10.18     15.7      88.8       6
## 14   tip   medium     2    6.0  11.22     13.0      16.4       3
## 7    tip   medium     1    6.9  10.11     13.2      43.1       7
## 13   tip   medium     2    7.1   8.16     29.6       9.7       2
## 1    tip   medium     1    7.5   7.62     11.7      31.9       1
## 51 notip   medium     1    7.5  13.60     13.6     122.2      11
## 61 notip   medium     2    8.0  11.43     12.6      43.2      14
## 54 notip   medium     1    8.5  10.04     12.3     113.6       4
## 15   tip   medium     2    9.0  10.20     10.8      90.1       6
## 8    tip   medium     1    9.4  10.28     14.0      28.5       6
## 6    tip   medium     1    9.8  10.08     12.2      72.7       9
## 4    tip   medium     1   10.4   8.78     11.9      20.3       1
## 5    tip   medium     1   10.4  13.58     14.5      26.9       4
## 9    tip   medium     2   10.4  10.48     10.5      57.8       5
## 11   tip   medium     2   10.4  13.18     11.1      56.8      12
## 2    tip   medium     1   10.7  12.14     14.1      46.0      10
## 12   tip   medium     2   11.0  11.56     12.6      31.3       6
## 3    tip   medium     1   11.2  12.76      7.1      66.7      10
## 10   tip   medium     2   12.3  13.48     16.1      36.9       8
## 86 notip      low     1    1.8   6.01     17.6      46.2       4
## 84 notip      low     1    2.2   9.97      9.6      63.1       2
## 82 notip      low     1    2.3   7.28     13.8      32.8       6
## 89 notip      low     2    2.4   9.10     14.5      78.7       8
## 87 notip      low     1    3.0   9.93     12.0      56.6       6
## 42   tip      low     2    3.1   8.74     16.1      39.1       3
## 92 notip      low     2    3.2   7.45     14.1      38.1       4
## 94 notip      low     2    3.3   8.92     11.6      55.2       6
## 88 notip      low     1    3.7   7.03      7.9      36.7       5
## 91 notip      low     2    3.7   8.10     10.5      60.5       6
## 81 notip      low     1    3.9   7.17     13.5      52.8       6
## 93 notip      low     2    3.9   9.19     12.4      52.6       9
## 96 notip      low     2    4.4  10.60     16.2      63.3       6
## 85 notip      low     1    4.5   8.60      9.4     113.5       7
## 83 notip      low     1    5.2   5.79     11.0      67.4       5
## 95 notip      low     2    5.5   8.44     13.5      77.6       9
## 46   tip      low     2    5.6   8.10     10.1       5.8       2
## 90 notip      low     2    5.7   9.05      9.6      63.2       6
## 48   tip      low     2    5.8   8.04      5.8      30.7       7
## 35   tip      low     1    6.4   5.97      8.7       7.3       2
## 41   tip      low     2    7.4  10.89     13.3       9.5       5
## 36   tip      low     1    7.6  13.05      7.2      47.2       8
## 43   tip      low     2    7.9   8.89      8.4      34.1       4
## 33   tip      low     1    8.0   6.88      9.3      16.1       4
## 34   tip      low     1    8.0  10.23     11.9      88.1       4
## 45   tip      low     2    8.5   7.16      8.7      29.9       4
## 44   tip      low     2    8.8   9.39      7.1      38.9       4
## 40   tip      low     1    8.9  11.48     11.1      39.4       7
## 39   tip      low     1    9.1   8.96      9.7      23.8       3
## 37   tip      low     1    9.7   6.49      8.1      18.0       3
## 47   tip      low     2   11.5   8.72     10.2      28.3       6
## 38   tip      low     1   12.3  11.27     13.7      28.7       5
## 68 notip     high     1    1.2  18.24     16.6     148.1       7
## 72 notip     high     1    2.1  19.15     15.6     176.7       6
## 69 notip     high     1    2.6  16.57     17.1     141.1       3
## 76 notip     high     2    2.6  18.88     16.4     181.5      14
## 79 notip     high     2    4.6  14.65     16.7      91.7      11
## 73 notip     high     2    4.7  13.42     19.8     124.7       5
## 74 notip     high     2    5.0  16.82     17.3     182.5      15
## 80 notip     high     2    5.2  17.70     19.1     181.1       8
## 77 notip     high     2    6.0  13.68     16.2     133.7       2
## 30   tip     high     2    6.2  17.32     11.6      85.9       5
## 31   tip     high     2    6.3  14.50     18.3      55.6       8
## 27   tip     high     2    6.4  13.60     13.6     152.6       7
## 67 notip     high     1    6.4  11.52     12.1     140.5       7
## 24   tip     high     1    6.5  17.13     24.1     147.4       6
## 75 notip     high     2    6.5  14.00     10.1     126.5       7
## 71 notip     high     1    7.2  15.21     15.9     135.0      14
## 26   tip     high     2    7.7  14.77     17.2     104.5       4
## 20   tip     high     1    8.5  14.33     13.2      91.4       5
## 23   tip     high     1    8.5  17.82     20.5      54.4       3
## 65 notip     high     1    8.5  22.53     20.8     166.9      16
## 66 notip     high     1    8.5  17.33     19.8     184.4      12
## 28   tip     high     2    8.8  16.58     16.7     100.1       9
## 29   tip     high     2    9.2  13.26     11.3     108.0       9
## 78 notip     high     2    9.3  18.75     18.4     181.1      16
## 18   tip     high     1   10.0  18.07     16.9      90.5       3
## 19   tip     high     1   10.0  13.29     15.8     142.7      12
## 22   tip     high     1   10.1  15.49     12.6      77.2      12
## 70 notip     high     1   10.9  17.22     49.2     189.6      17
## 25   tip     high     2   11.5  23.89     14.3     101.5      12
## 17   tip     high     1   12.6  18.66     18.6      54.0       9
## 21   tip     high     1   14.1  19.12     13.1     113.2      13
## 32   tip     high     2   17.2  19.20     10.9      89.9      14</code></pre>
<p>Notice that the <code>nitrogen</code> variable has been reverse ordered alphabetically and <code>height</code> has been ordered by increasing values within each level of <code>nitrogen</code>.</p>
<p>If we wanted to order the data frame by <code>nitrogen</code> but this time order it from <code>low</code> -&gt; <code>medium</code> -&gt; <code>high</code> instead of the default alphabetically (<code>high</code>, <code>low</code>, <code>medium</code>), we need to first change the order of our levels of the <code>nitrogen</code> factor in our data frame using the <code>factor()</code> function. Once we’ve done this we can then use the <code>order()</code> function as usual. Note, if you’re reading the pdf version of this book, the output has been truncated to save space.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="wrangling-data-frames.html#cb146-1" tabindex="-1"></a>flowers<span class="sc">$</span>nitrogen <span class="ot">&lt;-</span> <span class="fu">factor</span>(flowers<span class="sc">$</span>nitrogen, </span>
<span id="cb146-2"><a href="wrangling-data-frames.html#cb146-2" tabindex="-1"></a>                           <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>))    </span>
<span id="cb146-3"><a href="wrangling-data-frames.html#cb146-3" tabindex="-1"></a>nit_ord <span class="ot">&lt;-</span> flowers[<span class="fu">order</span>(flowers<span class="sc">$</span>nitrogen),]</span>
<span id="cb146-4"><a href="wrangling-data-frames.html#cb146-4" tabindex="-1"></a>nit_ord</span></code></pre></div>
<pre><code>##    treat nitrogen block height weight leafarea shootarea flowers
## 33   tip      low     1    8.0   6.88      9.3      16.1       4
## 34   tip      low     1    8.0  10.23     11.9      88.1       4
## 35   tip      low     1    6.4   5.97      8.7       7.3       2
## 36   tip      low     1    7.6  13.05      7.2      47.2       8
## 37   tip      low     1    9.7   6.49      8.1      18.0       3
## 38   tip      low     1   12.3  11.27     13.7      28.7       5
## 39   tip      low     1    9.1   8.96      9.7      23.8       3
## 40   tip      low     1    8.9  11.48     11.1      39.4       7
## 41   tip      low     2    7.4  10.89     13.3       9.5       5
## 42   tip      low     2    3.1   8.74     16.1      39.1       3
## 43   tip      low     2    7.9   8.89      8.4      34.1       4
## 44   tip      low     2    8.8   9.39      7.1      38.9       4
## 45   tip      low     2    8.5   7.16      8.7      29.9       4
## 46   tip      low     2    5.6   8.10     10.1       5.8       2
## 47   tip      low     2   11.5   8.72     10.2      28.3       6
## 48   tip      low     2    5.8   8.04      5.8      30.7       7
## 81 notip      low     1    3.9   7.17     13.5      52.8       6
## 82 notip      low     1    2.3   7.28     13.8      32.8       6
## 83 notip      low     1    5.2   5.79     11.0      67.4       5
## 84 notip      low     1    2.2   9.97      9.6      63.1       2
## 85 notip      low     1    4.5   8.60      9.4     113.5       7
## 86 notip      low     1    1.8   6.01     17.6      46.2       4
## 87 notip      low     1    3.0   9.93     12.0      56.6       6
## 88 notip      low     1    3.7   7.03      7.9      36.7       5
## 89 notip      low     2    2.4   9.10     14.5      78.7       8
## 90 notip      low     2    5.7   9.05      9.6      63.2       6
## 91 notip      low     2    3.7   8.10     10.5      60.5       6
## 92 notip      low     2    3.2   7.45     14.1      38.1       4
## 93 notip      low     2    3.9   9.19     12.4      52.6       9
## 94 notip      low     2    3.3   8.92     11.6      55.2       6
## 95 notip      low     2    5.5   8.44     13.5      77.6       9
## 96 notip      low     2    4.4  10.60     16.2      63.3       6
## 1    tip   medium     1    7.5   7.62     11.7      31.9       1
## 2    tip   medium     1   10.7  12.14     14.1      46.0      10
## 3    tip   medium     1   11.2  12.76      7.1      66.7      10
## 4    tip   medium     1   10.4   8.78     11.9      20.3       1
## 5    tip   medium     1   10.4  13.58     14.5      26.9       4
## 6    tip   medium     1    9.8  10.08     12.2      72.7       9
## 7    tip   medium     1    6.9  10.11     13.2      43.1       7
## 8    tip   medium     1    9.4  10.28     14.0      28.5       6
## 9    tip   medium     2   10.4  10.48     10.5      57.8       5
## 10   tip   medium     2   12.3  13.48     16.1      36.9       8
## 11   tip   medium     2   10.4  13.18     11.1      56.8      12
## 12   tip   medium     2   11.0  11.56     12.6      31.3       6
## 13   tip   medium     2    7.1   8.16     29.6       9.7       2
## 14   tip   medium     2    6.0  11.22     13.0      16.4       3
## 15   tip   medium     2    9.0  10.20     10.8      90.1       6
## 16   tip   medium     2    4.5  12.55     13.4      14.4       6
## 49 notip   medium     1    5.6  11.03     18.6      49.9       8
## 50 notip   medium     1    5.3   9.29     11.5      82.3       6
## 51 notip   medium     1    7.5  13.60     13.6     122.2      11
## 52 notip   medium     1    4.1  12.58     13.9     136.6      11
## 53 notip   medium     1    3.5  12.93     16.6     109.3       3
## 54 notip   medium     1    8.5  10.04     12.3     113.6       4
## 55 notip   medium     1    4.9   6.89      8.2      52.9       3
## 56 notip   medium     1    2.5  14.85     17.5      77.8      10
## 57 notip   medium     2    5.4  11.36     17.8     104.6      12
## 58 notip   medium     2    3.9   9.07      9.6      90.4       7
## 59 notip   medium     2    5.8  10.18     15.7      88.8       6
## 60 notip   medium     2    4.5  13.68     14.8     125.5       9
## 61 notip   medium     2    8.0  11.43     12.6      43.2      14
## 62 notip   medium     2    1.8  10.47     11.8     120.8       9
## 63 notip   medium     2    2.2  10.70     15.3      97.1       7
## 64 notip   medium     2    3.9  12.97     17.0      97.5       5
## 17   tip     high     1   12.6  18.66     18.6      54.0       9
## 18   tip     high     1   10.0  18.07     16.9      90.5       3
## 19   tip     high     1   10.0  13.29     15.8     142.7      12
## 20   tip     high     1    8.5  14.33     13.2      91.4       5
## 21   tip     high     1   14.1  19.12     13.1     113.2      13
## 22   tip     high     1   10.1  15.49     12.6      77.2      12
## 23   tip     high     1    8.5  17.82     20.5      54.4       3
## 24   tip     high     1    6.5  17.13     24.1     147.4       6
## 25   tip     high     2   11.5  23.89     14.3     101.5      12
## 26   tip     high     2    7.7  14.77     17.2     104.5       4
## 27   tip     high     2    6.4  13.60     13.6     152.6       7
## 28   tip     high     2    8.8  16.58     16.7     100.1       9
## 29   tip     high     2    9.2  13.26     11.3     108.0       9
## 30   tip     high     2    6.2  17.32     11.6      85.9       5
## 31   tip     high     2    6.3  14.50     18.3      55.6       8
## 32   tip     high     2   17.2  19.20     10.9      89.9      14
## 65 notip     high     1    8.5  22.53     20.8     166.9      16
## 66 notip     high     1    8.5  17.33     19.8     184.4      12
## 67 notip     high     1    6.4  11.52     12.1     140.5       7
## 68 notip     high     1    1.2  18.24     16.6     148.1       7
## 69 notip     high     1    2.6  16.57     17.1     141.1       3
## 70 notip     high     1   10.9  17.22     49.2     189.6      17
## 71 notip     high     1    7.2  15.21     15.9     135.0      14
## 72 notip     high     1    2.1  19.15     15.6     176.7       6
## 73 notip     high     2    4.7  13.42     19.8     124.7       5
## 74 notip     high     2    5.0  16.82     17.3     182.5      15
## 75 notip     high     2    6.5  14.00     10.1     126.5       7
## 76 notip     high     2    2.6  18.88     16.4     181.5      14
## 77 notip     high     2    6.0  13.68     16.2     133.7       2
## 78 notip     high     2    9.3  18.75     18.4     181.1      16
## 79 notip     high     2    4.6  14.65     16.7      91.7      11
## 80 notip     high     2    5.2  17.70     19.1     181.1       8</code></pre>
</div>
<div id="adding-columns-and-rows" class="section level3 hasAnchor" number="3.4.4">
<h3><span class="header-section-number">3.4.4</span> Adding columns and rows<a href="wrangling-data-frames.html#adding-columns-and-rows" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sometimes it’s useful to be able to add extra rows and columns of data to our data frames. There are multiple ways to achieve this (as there always is in R!) depending on your circumstances. To simply append additional rows to an existing data frame we can use the <code>rbind()</code> function and to append columns the <code>cbind()</code> function. Let’s create a couple of test data frames to see this in action using our old friend the <code>data.frame()</code> function.</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="wrangling-data-frames.html#cb148-1" tabindex="-1"></a><span class="co"># rbind for rows</span></span>
<span id="cb148-2"><a href="wrangling-data-frames.html#cb148-2" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">height =</span> <span class="fu">c</span>(<span class="dv">120</span>, <span class="dv">150</span>, <span class="dv">132</span>, <span class="dv">122</span>),</span>
<span id="cb148-3"><a href="wrangling-data-frames.html#cb148-3" tabindex="-1"></a>                        <span class="at">weight =</span> <span class="fu">c</span>(<span class="dv">44</span>, <span class="dv">56</span>, <span class="dv">49</span>, <span class="dv">45</span>))</span>
<span id="cb148-4"><a href="wrangling-data-frames.html#cb148-4" tabindex="-1"></a>df1</span>
<span id="cb148-5"><a href="wrangling-data-frames.html#cb148-5" tabindex="-1"></a><span class="do">##   id height weight</span></span>
<span id="cb148-6"><a href="wrangling-data-frames.html#cb148-6" tabindex="-1"></a><span class="do">## 1  1    120     44</span></span>
<span id="cb148-7"><a href="wrangling-data-frames.html#cb148-7" tabindex="-1"></a><span class="do">## 2  2    150     56</span></span>
<span id="cb148-8"><a href="wrangling-data-frames.html#cb148-8" tabindex="-1"></a><span class="do">## 3  3    132     49</span></span>
<span id="cb148-9"><a href="wrangling-data-frames.html#cb148-9" tabindex="-1"></a><span class="do">## 4  4    122     45</span></span>
<span id="cb148-10"><a href="wrangling-data-frames.html#cb148-10" tabindex="-1"></a></span>
<span id="cb148-11"><a href="wrangling-data-frames.html#cb148-11" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">height =</span> <span class="fu">c</span>(<span class="dv">119</span>, <span class="dv">110</span>),</span>
<span id="cb148-12"><a href="wrangling-data-frames.html#cb148-12" tabindex="-1"></a>                        <span class="at">weight =</span> <span class="fu">c</span>(<span class="dv">39</span>, <span class="dv">35</span>))</span>
<span id="cb148-13"><a href="wrangling-data-frames.html#cb148-13" tabindex="-1"></a>df2</span>
<span id="cb148-14"><a href="wrangling-data-frames.html#cb148-14" tabindex="-1"></a><span class="do">##   id height weight</span></span>
<span id="cb148-15"><a href="wrangling-data-frames.html#cb148-15" tabindex="-1"></a><span class="do">## 1  5    119     39</span></span>
<span id="cb148-16"><a href="wrangling-data-frames.html#cb148-16" tabindex="-1"></a><span class="do">## 2  6    110     35</span></span>
<span id="cb148-17"><a href="wrangling-data-frames.html#cb148-17" tabindex="-1"></a></span>
<span id="cb148-18"><a href="wrangling-data-frames.html#cb148-18" tabindex="-1"></a>df3 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">height =</span> <span class="fu">c</span>(<span class="dv">120</span>, <span class="dv">150</span>, <span class="dv">132</span>, <span class="dv">122</span>),</span>
<span id="cb148-19"><a href="wrangling-data-frames.html#cb148-19" tabindex="-1"></a>                        <span class="at">weight =</span> <span class="fu">c</span>(<span class="dv">44</span>, <span class="dv">56</span>, <span class="dv">49</span>, <span class="dv">45</span>))</span>
<span id="cb148-20"><a href="wrangling-data-frames.html#cb148-20" tabindex="-1"></a>df3</span>
<span id="cb148-21"><a href="wrangling-data-frames.html#cb148-21" tabindex="-1"></a><span class="do">##   id height weight</span></span>
<span id="cb148-22"><a href="wrangling-data-frames.html#cb148-22" tabindex="-1"></a><span class="do">## 1  1    120     44</span></span>
<span id="cb148-23"><a href="wrangling-data-frames.html#cb148-23" tabindex="-1"></a><span class="do">## 2  2    150     56</span></span>
<span id="cb148-24"><a href="wrangling-data-frames.html#cb148-24" tabindex="-1"></a><span class="do">## 3  3    132     49</span></span>
<span id="cb148-25"><a href="wrangling-data-frames.html#cb148-25" tabindex="-1"></a><span class="do">## 4  4    122     45</span></span>
<span id="cb148-26"><a href="wrangling-data-frames.html#cb148-26" tabindex="-1"></a></span>
<span id="cb148-27"><a href="wrangling-data-frames.html#cb148-27" tabindex="-1"></a>df4 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">location =</span> <span class="fu">c</span>(<span class="st">&quot;UK&quot;</span>, <span class="st">&quot;CZ&quot;</span>, <span class="st">&quot;CZ&quot;</span>, <span class="st">&quot;UK&quot;</span>))</span>
<span id="cb148-28"><a href="wrangling-data-frames.html#cb148-28" tabindex="-1"></a>df4</span>
<span id="cb148-29"><a href="wrangling-data-frames.html#cb148-29" tabindex="-1"></a><span class="do">##   location</span></span>
<span id="cb148-30"><a href="wrangling-data-frames.html#cb148-30" tabindex="-1"></a><span class="do">## 1       UK</span></span>
<span id="cb148-31"><a href="wrangling-data-frames.html#cb148-31" tabindex="-1"></a><span class="do">## 2       CZ</span></span>
<span id="cb148-32"><a href="wrangling-data-frames.html#cb148-32" tabindex="-1"></a><span class="do">## 3       CZ</span></span>
<span id="cb148-33"><a href="wrangling-data-frames.html#cb148-33" tabindex="-1"></a><span class="do">## 4       UK</span></span></code></pre></div>
<p>We can use the <code>rbind()</code> function to append the rows of data in <code>df2</code> to the rows in <code>df1</code> and assign the new data frame to <code>df_rcomb</code>.</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="wrangling-data-frames.html#cb149-1" tabindex="-1"></a>df_rcomb <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df1, df2)</span>
<span id="cb149-2"><a href="wrangling-data-frames.html#cb149-2" tabindex="-1"></a>df_rcomb</span>
<span id="cb149-3"><a href="wrangling-data-frames.html#cb149-3" tabindex="-1"></a><span class="do">##   id height weight</span></span>
<span id="cb149-4"><a href="wrangling-data-frames.html#cb149-4" tabindex="-1"></a><span class="do">## 1  1    120     44</span></span>
<span id="cb149-5"><a href="wrangling-data-frames.html#cb149-5" tabindex="-1"></a><span class="do">## 2  2    150     56</span></span>
<span id="cb149-6"><a href="wrangling-data-frames.html#cb149-6" tabindex="-1"></a><span class="do">## 3  3    132     49</span></span>
<span id="cb149-7"><a href="wrangling-data-frames.html#cb149-7" tabindex="-1"></a><span class="do">## 4  4    122     45</span></span>
<span id="cb149-8"><a href="wrangling-data-frames.html#cb149-8" tabindex="-1"></a><span class="do">## 5  5    119     39</span></span>
<span id="cb149-9"><a href="wrangling-data-frames.html#cb149-9" tabindex="-1"></a><span class="do">## 6  6    110     35</span></span></code></pre></div>
<p>And <code>cbind</code> to append the column in <code>df4</code> to the <code>df3</code> data frame and assign to <code>df_ccomb</code>.</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="wrangling-data-frames.html#cb150-1" tabindex="-1"></a>df_ccomb <span class="ot">&lt;-</span> <span class="fu">cbind</span>(df3, df4)</span>
<span id="cb150-2"><a href="wrangling-data-frames.html#cb150-2" tabindex="-1"></a>df_ccomb</span>
<span id="cb150-3"><a href="wrangling-data-frames.html#cb150-3" tabindex="-1"></a><span class="do">##   id height weight location</span></span>
<span id="cb150-4"><a href="wrangling-data-frames.html#cb150-4" tabindex="-1"></a><span class="do">## 1  1    120     44       UK</span></span>
<span id="cb150-5"><a href="wrangling-data-frames.html#cb150-5" tabindex="-1"></a><span class="do">## 2  2    150     56       CZ</span></span>
<span id="cb150-6"><a href="wrangling-data-frames.html#cb150-6" tabindex="-1"></a><span class="do">## 3  3    132     49       CZ</span></span>
<span id="cb150-7"><a href="wrangling-data-frames.html#cb150-7" tabindex="-1"></a><span class="do">## 4  4    122     45       UK</span></span></code></pre></div>
<p>Another situation when adding a new column to a data frame is useful is when you want to perform some kind of transformation on an existing variable. For example, say we wanted to apply a log<sub>10</sub> transformation on the height variable in the <code>df_rcomb</code> data frame we created above. We could just create a separate variable to contains these values but it’s good practice to create this variable as a new column inside our existing data frame so we keep all of our data together. Let’s call this new variable <code>height_log10</code>.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="wrangling-data-frames.html#cb151-1" tabindex="-1"></a><span class="co"># log10 transformation</span></span>
<span id="cb151-2"><a href="wrangling-data-frames.html#cb151-2" tabindex="-1"></a>df_rcomb<span class="sc">$</span>height_log10 <span class="ot">&lt;-</span> <span class="fu">log10</span>(df_rcomb<span class="sc">$</span>height)</span>
<span id="cb151-3"><a href="wrangling-data-frames.html#cb151-3" tabindex="-1"></a>df_rcomb</span>
<span id="cb151-4"><a href="wrangling-data-frames.html#cb151-4" tabindex="-1"></a><span class="do">##   id height weight height_log10</span></span>
<span id="cb151-5"><a href="wrangling-data-frames.html#cb151-5" tabindex="-1"></a><span class="do">## 1  1    120     44     2.079181</span></span>
<span id="cb151-6"><a href="wrangling-data-frames.html#cb151-6" tabindex="-1"></a><span class="do">## 2  2    150     56     2.176091</span></span>
<span id="cb151-7"><a href="wrangling-data-frames.html#cb151-7" tabindex="-1"></a><span class="do">## 3  3    132     49     2.120574</span></span>
<span id="cb151-8"><a href="wrangling-data-frames.html#cb151-8" tabindex="-1"></a><span class="do">## 4  4    122     45     2.086360</span></span>
<span id="cb151-9"><a href="wrangling-data-frames.html#cb151-9" tabindex="-1"></a><span class="do">## 5  5    119     39     2.075547</span></span>
<span id="cb151-10"><a href="wrangling-data-frames.html#cb151-10" tabindex="-1"></a><span class="do">## 6  6    110     35     2.041393</span></span></code></pre></div>
<p>This situation also crops up when we want to convert an existing variable in a data frame from one data class to another data class. For example, the <code>id</code> variable in the <code>df_rcomb</code> data frame is numeric type data (use the <code>str()</code> or <code>class()</code> functions to check for yourself). If we wanted to convert the <code>id</code> variable to a factor to use later in our analysis we can create a new variable called <code>Fid</code> in our data frame and use the <code>factor()</code> function to convert the <code>id</code> variable.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="wrangling-data-frames.html#cb152-1" tabindex="-1"></a><span class="co"># convert to a factor </span></span>
<span id="cb152-2"><a href="wrangling-data-frames.html#cb152-2" tabindex="-1"></a>df_rcomb<span class="sc">$</span>Fid <span class="ot">&lt;-</span> <span class="fu">factor</span>(df_rcomb<span class="sc">$</span>id)</span>
<span id="cb152-3"><a href="wrangling-data-frames.html#cb152-3" tabindex="-1"></a>df_rcomb</span>
<span id="cb152-4"><a href="wrangling-data-frames.html#cb152-4" tabindex="-1"></a><span class="do">##   id height weight height_log10 Fid</span></span>
<span id="cb152-5"><a href="wrangling-data-frames.html#cb152-5" tabindex="-1"></a><span class="do">## 1  1    120     44     2.079181   1</span></span>
<span id="cb152-6"><a href="wrangling-data-frames.html#cb152-6" tabindex="-1"></a><span class="do">## 2  2    150     56     2.176091   2</span></span>
<span id="cb152-7"><a href="wrangling-data-frames.html#cb152-7" tabindex="-1"></a><span class="do">## 3  3    132     49     2.120574   3</span></span>
<span id="cb152-8"><a href="wrangling-data-frames.html#cb152-8" tabindex="-1"></a><span class="do">## 4  4    122     45     2.086360   4</span></span>
<span id="cb152-9"><a href="wrangling-data-frames.html#cb152-9" tabindex="-1"></a><span class="do">## 5  5    119     39     2.075547   5</span></span>
<span id="cb152-10"><a href="wrangling-data-frames.html#cb152-10" tabindex="-1"></a><span class="do">## 6  6    110     35     2.041393   6</span></span>
<span id="cb152-11"><a href="wrangling-data-frames.html#cb152-11" tabindex="-1"></a><span class="fu">str</span>(df_rcomb)</span>
<span id="cb152-12"><a href="wrangling-data-frames.html#cb152-12" tabindex="-1"></a><span class="do">## &#39;data.frame&#39;:    6 obs. of  5 variables:</span></span>
<span id="cb152-13"><a href="wrangling-data-frames.html#cb152-13" tabindex="-1"></a><span class="do">##  $ id          : int  1 2 3 4 5 6</span></span>
<span id="cb152-14"><a href="wrangling-data-frames.html#cb152-14" tabindex="-1"></a><span class="do">##  $ height      : num  120 150 132 122 119 110</span></span>
<span id="cb152-15"><a href="wrangling-data-frames.html#cb152-15" tabindex="-1"></a><span class="do">##  $ weight      : num  44 56 49 45 39 35</span></span>
<span id="cb152-16"><a href="wrangling-data-frames.html#cb152-16" tabindex="-1"></a><span class="do">##  $ height_log10: num  2.08 2.18 2.12 2.09 2.08 ...</span></span>
<span id="cb152-17"><a href="wrangling-data-frames.html#cb152-17" tabindex="-1"></a><span class="do">##  $ Fid         : Factor w/ 6 levels &quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,..: 1 2 3 4 5 6</span></span></code></pre></div>
</div>
<div id="merging-data-frames" class="section level3 hasAnchor" number="3.4.5">
<h3><span class="header-section-number">3.4.5</span> Merging data frames<a href="wrangling-data-frames.html#merging-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Instead of just appending either rows or columns to a data frame we can also merge two data frames together. Let’s say we have one data frame that contains taxonomic information on some common UK rocky shore invertebrates (called <code>taxa</code>) and another data frame that contains information on where they are usually found on the rocky shore (called <code>zone</code>). We can merge these two data frames together to produce a single data frame with both taxonomic and location information. Let’s first create both of these data frames (in reality you would probably just import your different datasets).</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="wrangling-data-frames.html#cb153-1" tabindex="-1"></a>taxa <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">GENUS =</span> <span class="fu">c</span>(<span class="st">&quot;Patella&quot;</span>, <span class="st">&quot;Littorina&quot;</span>, <span class="st">&quot;Halichondria&quot;</span>, <span class="st">&quot;Semibalanus&quot;</span>),</span>
<span id="cb153-2"><a href="wrangling-data-frames.html#cb153-2" tabindex="-1"></a>         <span class="at">species =</span> <span class="fu">c</span>(<span class="st">&quot;vulgata&quot;</span>, <span class="st">&quot;littoria&quot;</span>, <span class="st">&quot;panacea&quot;</span>, <span class="st">&quot;balanoides&quot;</span>),</span>
<span id="cb153-3"><a href="wrangling-data-frames.html#cb153-3" tabindex="-1"></a>         <span class="at">family =</span> <span class="fu">c</span>(<span class="st">&quot;patellidae&quot;</span>, <span class="st">&quot;Littorinidae&quot;</span>, <span class="st">&quot;Halichondriidae&quot;</span>, <span class="st">&quot;Archaeobalanidae&quot;</span>))</span>
<span id="cb153-4"><a href="wrangling-data-frames.html#cb153-4" tabindex="-1"></a>taxa</span>
<span id="cb153-5"><a href="wrangling-data-frames.html#cb153-5" tabindex="-1"></a><span class="do">##          GENUS    species           family</span></span>
<span id="cb153-6"><a href="wrangling-data-frames.html#cb153-6" tabindex="-1"></a><span class="do">## 1      Patella    vulgata       patellidae</span></span>
<span id="cb153-7"><a href="wrangling-data-frames.html#cb153-7" tabindex="-1"></a><span class="do">## 2    Littorina   littoria     Littorinidae</span></span>
<span id="cb153-8"><a href="wrangling-data-frames.html#cb153-8" tabindex="-1"></a><span class="do">## 3 Halichondria    panacea  Halichondriidae</span></span>
<span id="cb153-9"><a href="wrangling-data-frames.html#cb153-9" tabindex="-1"></a><span class="do">## 4  Semibalanus balanoides Archaeobalanidae</span></span>
<span id="cb153-10"><a href="wrangling-data-frames.html#cb153-10" tabindex="-1"></a></span>
<span id="cb153-11"><a href="wrangling-data-frames.html#cb153-11" tabindex="-1"></a>zone <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">genus =</span> <span class="fu">c</span>(<span class="st">&quot;Laminaria&quot;</span>, <span class="st">&quot;Halichondria&quot;</span>, <span class="st">&quot;Xanthoria&quot;</span>, <span class="st">&quot;Littorina&quot;</span>, </span>
<span id="cb153-12"><a href="wrangling-data-frames.html#cb153-12" tabindex="-1"></a>                             <span class="st">&quot;Semibalanus&quot;</span>, <span class="st">&quot;Fucus&quot;</span>),</span>
<span id="cb153-13"><a href="wrangling-data-frames.html#cb153-13" tabindex="-1"></a>                   <span class="at">species =</span> <span class="fu">c</span>(<span class="st">&quot;digitata&quot;</span>, <span class="st">&quot;panacea&quot;</span>, <span class="st">&quot;parietina&quot;</span>, <span class="st">&quot;littoria&quot;</span>, </span>
<span id="cb153-14"><a href="wrangling-data-frames.html#cb153-14" tabindex="-1"></a>                               <span class="st">&quot;balanoides&quot;</span>, <span class="st">&quot;serratus&quot;</span>),</span>
<span id="cb153-15"><a href="wrangling-data-frames.html#cb153-15" tabindex="-1"></a>                   <span class="at">zone =</span> <span class="fu">c</span>( <span class="st">&quot;v_low&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;v_high&quot;</span>, <span class="st">&quot;low_mid&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;low_mid&quot;</span>))</span>
<span id="cb153-16"><a href="wrangling-data-frames.html#cb153-16" tabindex="-1"></a>zone</span>
<span id="cb153-17"><a href="wrangling-data-frames.html#cb153-17" tabindex="-1"></a><span class="do">##          genus    species    zone</span></span>
<span id="cb153-18"><a href="wrangling-data-frames.html#cb153-18" tabindex="-1"></a><span class="do">## 1    Laminaria   digitata   v_low</span></span>
<span id="cb153-19"><a href="wrangling-data-frames.html#cb153-19" tabindex="-1"></a><span class="do">## 2 Halichondria    panacea     low</span></span>
<span id="cb153-20"><a href="wrangling-data-frames.html#cb153-20" tabindex="-1"></a><span class="do">## 3    Xanthoria  parietina  v_high</span></span>
<span id="cb153-21"><a href="wrangling-data-frames.html#cb153-21" tabindex="-1"></a><span class="do">## 4    Littorina   littoria low_mid</span></span>
<span id="cb153-22"><a href="wrangling-data-frames.html#cb153-22" tabindex="-1"></a><span class="do">## 5  Semibalanus balanoides    high</span></span>
<span id="cb153-23"><a href="wrangling-data-frames.html#cb153-23" tabindex="-1"></a><span class="do">## 6        Fucus   serratus low_mid</span></span></code></pre></div>
<p>Because both of our data frames contains at least one variable in common (<code>species</code> in our case) we can simply use the <code>merge()</code> function to create a new data frame called <code>taxa_zone</code>.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="wrangling-data-frames.html#cb154-1" tabindex="-1"></a>taxa_zone <span class="ot">&lt;-</span> <span class="fu">merge</span>(<span class="at">x =</span> taxa, <span class="at">y =</span> zone)</span>
<span id="cb154-2"><a href="wrangling-data-frames.html#cb154-2" tabindex="-1"></a>taxa_zone</span>
<span id="cb154-3"><a href="wrangling-data-frames.html#cb154-3" tabindex="-1"></a><span class="do">##      species        GENUS           family        genus    zone</span></span>
<span id="cb154-4"><a href="wrangling-data-frames.html#cb154-4" tabindex="-1"></a><span class="do">## 1 balanoides  Semibalanus Archaeobalanidae  Semibalanus    high</span></span>
<span id="cb154-5"><a href="wrangling-data-frames.html#cb154-5" tabindex="-1"></a><span class="do">## 2   littoria    Littorina     Littorinidae    Littorina low_mid</span></span>
<span id="cb154-6"><a href="wrangling-data-frames.html#cb154-6" tabindex="-1"></a><span class="do">## 3    panacea Halichondria  Halichondriidae Halichondria     low</span></span></code></pre></div>
<p>Notice that the merged data frame contains only the rows that have <code>species</code> information in <strong>both</strong> data frames. There are also two columns called <code>GENUS</code> and <code>genus</code> because the <code>merge()</code> function treats these as two different variables that originate from the two data frames.</p>
<p>If we want to include all data from both data frames then we will need to use the <code>all = TRUE</code> argument. The missing values will be included as <code>NA</code>.</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="wrangling-data-frames.html#cb155-1" tabindex="-1"></a>taxa_zone <span class="ot">&lt;-</span> <span class="fu">merge</span>(<span class="at">x =</span> taxa, <span class="at">y =</span> zone, <span class="at">all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb155-2"><a href="wrangling-data-frames.html#cb155-2" tabindex="-1"></a>taxa_zone</span>
<span id="cb155-3"><a href="wrangling-data-frames.html#cb155-3" tabindex="-1"></a><span class="do">##      species        GENUS           family        genus    zone</span></span>
<span id="cb155-4"><a href="wrangling-data-frames.html#cb155-4" tabindex="-1"></a><span class="do">## 1 balanoides  Semibalanus Archaeobalanidae  Semibalanus    high</span></span>
<span id="cb155-5"><a href="wrangling-data-frames.html#cb155-5" tabindex="-1"></a><span class="do">## 2   digitata         &lt;NA&gt;             &lt;NA&gt;    Laminaria   v_low</span></span>
<span id="cb155-6"><a href="wrangling-data-frames.html#cb155-6" tabindex="-1"></a><span class="do">## 3   littoria    Littorina     Littorinidae    Littorina low_mid</span></span>
<span id="cb155-7"><a href="wrangling-data-frames.html#cb155-7" tabindex="-1"></a><span class="do">## 4    panacea Halichondria  Halichondriidae Halichondria     low</span></span>
<span id="cb155-8"><a href="wrangling-data-frames.html#cb155-8" tabindex="-1"></a><span class="do">## 5  parietina         &lt;NA&gt;             &lt;NA&gt;    Xanthoria  v_high</span></span>
<span id="cb155-9"><a href="wrangling-data-frames.html#cb155-9" tabindex="-1"></a><span class="do">## 6   serratus         &lt;NA&gt;             &lt;NA&gt;        Fucus low_mid</span></span>
<span id="cb155-10"><a href="wrangling-data-frames.html#cb155-10" tabindex="-1"></a><span class="do">## 7    vulgata      Patella       patellidae         &lt;NA&gt;    &lt;NA&gt;</span></span></code></pre></div>
<p>If the variable names that you want to base the merge on are different in each data frame (for example <code>GENUS</code> and <code>genus</code>) you can specify the names in the first data frame (known as <code>x</code>) and the second data frame (known as <code>y</code>) using the <code>by.x =</code> and <code>by.y =</code> arguments.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="wrangling-data-frames.html#cb156-1" tabindex="-1"></a>taxa_zone <span class="ot">&lt;-</span> <span class="fu">merge</span>(<span class="at">x =</span> taxa, <span class="at">y =</span> zone, <span class="at">by.x =</span> <span class="st">&quot;GENUS&quot;</span>, <span class="at">by.y =</span> <span class="st">&quot;genus&quot;</span>, <span class="at">all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb156-2"><a href="wrangling-data-frames.html#cb156-2" tabindex="-1"></a>taxa_zone</span>
<span id="cb156-3"><a href="wrangling-data-frames.html#cb156-3" tabindex="-1"></a><span class="do">##          GENUS  species.x           family  species.y    zone</span></span>
<span id="cb156-4"><a href="wrangling-data-frames.html#cb156-4" tabindex="-1"></a><span class="do">## 1        Fucus       &lt;NA&gt;             &lt;NA&gt;   serratus low_mid</span></span>
<span id="cb156-5"><a href="wrangling-data-frames.html#cb156-5" tabindex="-1"></a><span class="do">## 2 Halichondria    panacea  Halichondriidae    panacea     low</span></span>
<span id="cb156-6"><a href="wrangling-data-frames.html#cb156-6" tabindex="-1"></a><span class="do">## 3    Laminaria       &lt;NA&gt;             &lt;NA&gt;   digitata   v_low</span></span>
<span id="cb156-7"><a href="wrangling-data-frames.html#cb156-7" tabindex="-1"></a><span class="do">## 4    Littorina   littoria     Littorinidae   littoria low_mid</span></span>
<span id="cb156-8"><a href="wrangling-data-frames.html#cb156-8" tabindex="-1"></a><span class="do">## 5      Patella    vulgata       patellidae       &lt;NA&gt;    &lt;NA&gt;</span></span>
<span id="cb156-9"><a href="wrangling-data-frames.html#cb156-9" tabindex="-1"></a><span class="do">## 6  Semibalanus balanoides Archaeobalanidae balanoides    high</span></span>
<span id="cb156-10"><a href="wrangling-data-frames.html#cb156-10" tabindex="-1"></a><span class="do">## 7    Xanthoria       &lt;NA&gt;             &lt;NA&gt;  parietina  v_high</span></span></code></pre></div>
<p>Or using multiple variable names.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="wrangling-data-frames.html#cb157-1" tabindex="-1"></a>taxa_zone <span class="ot">&lt;-</span> <span class="fu">merge</span>(<span class="at">x =</span> taxa, <span class="at">y =</span> zone, <span class="at">by.x =</span> <span class="fu">c</span>(<span class="st">&quot;species&quot;</span>, <span class="st">&quot;GENUS&quot;</span>), </span>
<span id="cb157-2"><a href="wrangling-data-frames.html#cb157-2" tabindex="-1"></a>                    <span class="at">by.y =</span> <span class="fu">c</span>(<span class="st">&quot;species&quot;</span>, <span class="st">&quot;genus&quot;</span>), <span class="at">all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb157-3"><a href="wrangling-data-frames.html#cb157-3" tabindex="-1"></a>taxa_zone</span>
<span id="cb157-4"><a href="wrangling-data-frames.html#cb157-4" tabindex="-1"></a><span class="do">##      species        GENUS           family    zone</span></span>
<span id="cb157-5"><a href="wrangling-data-frames.html#cb157-5" tabindex="-1"></a><span class="do">## 1 balanoides  Semibalanus Archaeobalanidae    high</span></span>
<span id="cb157-6"><a href="wrangling-data-frames.html#cb157-6" tabindex="-1"></a><span class="do">## 2   digitata    Laminaria             &lt;NA&gt;   v_low</span></span>
<span id="cb157-7"><a href="wrangling-data-frames.html#cb157-7" tabindex="-1"></a><span class="do">## 3   littoria    Littorina     Littorinidae low_mid</span></span>
<span id="cb157-8"><a href="wrangling-data-frames.html#cb157-8" tabindex="-1"></a><span class="do">## 4    panacea Halichondria  Halichondriidae     low</span></span>
<span id="cb157-9"><a href="wrangling-data-frames.html#cb157-9" tabindex="-1"></a><span class="do">## 5  parietina    Xanthoria             &lt;NA&gt;  v_high</span></span>
<span id="cb157-10"><a href="wrangling-data-frames.html#cb157-10" tabindex="-1"></a><span class="do">## 6   serratus        Fucus             &lt;NA&gt; low_mid</span></span>
<span id="cb157-11"><a href="wrangling-data-frames.html#cb157-11" tabindex="-1"></a><span class="do">## 7    vulgata      Patella       patellidae    &lt;NA&gt;</span></span></code></pre></div>
</div>
<div id="reshape" class="section level3 hasAnchor" number="3.4.6">
<h3><span class="header-section-number">3.4.6</span> Reshaping data frames<a href="wrangling-data-frames.html#reshape" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Reshaping data into different formats is a common task. With rectangular type data (data frames have the same number of rows in each column) there are two main data frame shapes that you will come across: the ‘long’ format (sometimes called stacked) and the ‘wide’ format. An example of a long format data frame is given below. We can see that each row is a single observation from an individual subject and each subject can have multiple rows. This results in a single column of our <code>measurement</code>.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="wrangling-data-frames.html#cb158-1" tabindex="-1"></a>long_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb158-2"><a href="wrangling-data-frames.html#cb158-2" tabindex="-1"></a>             <span class="at">subject =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>), <span class="at">each =</span> <span class="dv">3</span>),</span>
<span id="cb158-3"><a href="wrangling-data-frames.html#cb158-3" tabindex="-1"></a>             <span class="at">sex =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;M&quot;</span>), <span class="at">each =</span><span class="dv">3</span>),</span>
<span id="cb158-4"><a href="wrangling-data-frames.html#cb158-4" tabindex="-1"></a>             <span class="at">condition =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;control&quot;</span>, <span class="st">&quot;cond1&quot;</span>, <span class="st">&quot;cond2&quot;</span>), <span class="at">times =</span> <span class="dv">4</span>),</span>
<span id="cb158-5"><a href="wrangling-data-frames.html#cb158-5" tabindex="-1"></a>             <span class="at">measurement =</span> <span class="fu">c</span>(<span class="fl">12.9</span>, <span class="fl">14.2</span>, <span class="fl">8.7</span>, <span class="fl">5.2</span>, <span class="fl">12.6</span>, <span class="fl">10.1</span>, <span class="fl">8.9</span>,</span>
<span id="cb158-6"><a href="wrangling-data-frames.html#cb158-6" tabindex="-1"></a>                             <span class="fl">12.1</span>, <span class="fl">14.2</span>, <span class="fl">10.5</span>, <span class="fl">12.9</span>, <span class="fl">11.9</span>))</span>
<span id="cb158-7"><a href="wrangling-data-frames.html#cb158-7" tabindex="-1"></a>long_data</span>
<span id="cb158-8"><a href="wrangling-data-frames.html#cb158-8" tabindex="-1"></a><span class="do">##    subject sex condition measurement</span></span>
<span id="cb158-9"><a href="wrangling-data-frames.html#cb158-9" tabindex="-1"></a><span class="do">## 1        A   M   control        12.9</span></span>
<span id="cb158-10"><a href="wrangling-data-frames.html#cb158-10" tabindex="-1"></a><span class="do">## 2        A   M     cond1        14.2</span></span>
<span id="cb158-11"><a href="wrangling-data-frames.html#cb158-11" tabindex="-1"></a><span class="do">## 3        A   M     cond2         8.7</span></span>
<span id="cb158-12"><a href="wrangling-data-frames.html#cb158-12" tabindex="-1"></a><span class="do">## 4        B   F   control         5.2</span></span>
<span id="cb158-13"><a href="wrangling-data-frames.html#cb158-13" tabindex="-1"></a><span class="do">## 5        B   F     cond1        12.6</span></span>
<span id="cb158-14"><a href="wrangling-data-frames.html#cb158-14" tabindex="-1"></a><span class="do">## 6        B   F     cond2        10.1</span></span>
<span id="cb158-15"><a href="wrangling-data-frames.html#cb158-15" tabindex="-1"></a><span class="do">## 7        C   F   control         8.9</span></span>
<span id="cb158-16"><a href="wrangling-data-frames.html#cb158-16" tabindex="-1"></a><span class="do">## 8        C   F     cond1        12.1</span></span>
<span id="cb158-17"><a href="wrangling-data-frames.html#cb158-17" tabindex="-1"></a><span class="do">## 9        C   F     cond2        14.2</span></span>
<span id="cb158-18"><a href="wrangling-data-frames.html#cb158-18" tabindex="-1"></a><span class="do">## 10       D   M   control        10.5</span></span>
<span id="cb158-19"><a href="wrangling-data-frames.html#cb158-19" tabindex="-1"></a><span class="do">## 11       D   M     cond1        12.9</span></span>
<span id="cb158-20"><a href="wrangling-data-frames.html#cb158-20" tabindex="-1"></a><span class="do">## 12       D   M     cond2        11.9</span></span></code></pre></div>
<p> </p>
<p>We can also format the same data in the wide format as shown below. In this format we have multiple observations from each subject in a single row with measurements in different columns (<code>control</code>, <code>cond1</code> and <code>cond2</code>). This is a common format when you have repeated measurements from sampling units.</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="wrangling-data-frames.html#cb159-1" tabindex="-1"></a>wide_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">subject =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>),</span>
<span id="cb159-2"><a href="wrangling-data-frames.html#cb159-2" tabindex="-1"></a>               <span class="at">sex =</span> <span class="fu">c</span>(<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;M&quot;</span>),</span>
<span id="cb159-3"><a href="wrangling-data-frames.html#cb159-3" tabindex="-1"></a>               <span class="at">control =</span> <span class="fu">c</span>(<span class="fl">12.9</span>, <span class="fl">5.2</span>, <span class="fl">8.9</span>, <span class="fl">10.5</span>),</span>
<span id="cb159-4"><a href="wrangling-data-frames.html#cb159-4" tabindex="-1"></a>               <span class="at">cond1 =</span> <span class="fu">c</span>(<span class="fl">14.2</span>, <span class="fl">12.6</span>, <span class="fl">12.1</span>, <span class="fl">12.9</span>),</span>
<span id="cb159-5"><a href="wrangling-data-frames.html#cb159-5" tabindex="-1"></a>               <span class="at">cond2 =</span> <span class="fu">c</span>(<span class="fl">8.7</span>, <span class="fl">10.1</span>, <span class="fl">14.2</span>, <span class="fl">11.9</span>))</span>
<span id="cb159-6"><a href="wrangling-data-frames.html#cb159-6" tabindex="-1"></a>wide_data</span>
<span id="cb159-7"><a href="wrangling-data-frames.html#cb159-7" tabindex="-1"></a><span class="do">##   subject sex control cond1 cond2</span></span>
<span id="cb159-8"><a href="wrangling-data-frames.html#cb159-8" tabindex="-1"></a><span class="do">## 1       A   M    12.9  14.2   8.7</span></span>
<span id="cb159-9"><a href="wrangling-data-frames.html#cb159-9" tabindex="-1"></a><span class="do">## 2       B   F     5.2  12.6  10.1</span></span>
<span id="cb159-10"><a href="wrangling-data-frames.html#cb159-10" tabindex="-1"></a><span class="do">## 3       C   F     8.9  12.1  14.2</span></span>
<span id="cb159-11"><a href="wrangling-data-frames.html#cb159-11" tabindex="-1"></a><span class="do">## 4       D   M    10.5  12.9  11.9</span></span></code></pre></div>
<p> </p>
<p>Whilst there’s no inherent problem with either of these formats we will sometimes need to convert between the two because some functions will require a specific format for them to work. The most common format is the long format.</p>
<p>There are many ways to convert between these two formats but we’ll use the <code>melt()</code> and <code>dcast()</code> functions from the <code>reshape2</code> package (you will need to install this package first). The <code>melt()</code> function is used to convert from wide to long formats. The first argument for the <code>melt()</code> function is the data frame we want to melt (in our case <code>wide_data</code>). The <code>id.vars = c("subject", "sex")</code> argument is a vector of the variables you want to stack, the <code>measured.vars = c("control", "cond1", "cond2")</code> argument identifies the columns of the measurements in different conditions, the <code>variable.name = "condition"</code> argument specifies what you want to call the stacked column of your different conditions in your output data frame and <code>value.name = "measurement"</code> is the name of the column of your stacked measurements in your output data frame.</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="wrangling-data-frames.html#cb160-1" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span>
<span id="cb160-2"><a href="wrangling-data-frames.html#cb160-2" tabindex="-1"></a>wide_data    <span class="co"># remind ourselves what the wide format looks like</span></span>
<span id="cb160-3"><a href="wrangling-data-frames.html#cb160-3" tabindex="-1"></a><span class="do">##   subject sex control cond1 cond2</span></span>
<span id="cb160-4"><a href="wrangling-data-frames.html#cb160-4" tabindex="-1"></a><span class="do">## 1       A   M    12.9  14.2   8.7</span></span>
<span id="cb160-5"><a href="wrangling-data-frames.html#cb160-5" tabindex="-1"></a><span class="do">## 2       B   F     5.2  12.6  10.1</span></span>
<span id="cb160-6"><a href="wrangling-data-frames.html#cb160-6" tabindex="-1"></a><span class="do">## 3       C   F     8.9  12.1  14.2</span></span>
<span id="cb160-7"><a href="wrangling-data-frames.html#cb160-7" tabindex="-1"></a><span class="do">## 4       D   M    10.5  12.9  11.9</span></span>
<span id="cb160-8"><a href="wrangling-data-frames.html#cb160-8" tabindex="-1"></a></span>
<span id="cb160-9"><a href="wrangling-data-frames.html#cb160-9" tabindex="-1"></a><span class="co"># convert wide to long</span></span>
<span id="cb160-10"><a href="wrangling-data-frames.html#cb160-10" tabindex="-1"></a>my_long_df <span class="ot">&lt;-</span> <span class="fu">melt</span>(<span class="at">data =</span> wide_data, <span class="at">id.vars =</span> <span class="fu">c</span>(<span class="st">&quot;subject&quot;</span>, <span class="st">&quot;sex&quot;</span>),</span>
<span id="cb160-11"><a href="wrangling-data-frames.html#cb160-11" tabindex="-1"></a>                   <span class="at">measured.vars =</span> <span class="fu">c</span>(<span class="st">&quot;control&quot;</span>, <span class="st">&quot;cond1&quot;</span>, <span class="st">&quot;cond2&quot;</span>),</span>
<span id="cb160-12"><a href="wrangling-data-frames.html#cb160-12" tabindex="-1"></a>                   <span class="at">variable.name =</span> <span class="st">&quot;condition&quot;</span>, <span class="at">value.name =</span> <span class="st">&quot;measurement&quot;</span>)</span>
<span id="cb160-13"><a href="wrangling-data-frames.html#cb160-13" tabindex="-1"></a>my_long_df</span>
<span id="cb160-14"><a href="wrangling-data-frames.html#cb160-14" tabindex="-1"></a><span class="do">##    subject sex condition measurement</span></span>
<span id="cb160-15"><a href="wrangling-data-frames.html#cb160-15" tabindex="-1"></a><span class="do">## 1        A   M   control        12.9</span></span>
<span id="cb160-16"><a href="wrangling-data-frames.html#cb160-16" tabindex="-1"></a><span class="do">## 2        B   F   control         5.2</span></span>
<span id="cb160-17"><a href="wrangling-data-frames.html#cb160-17" tabindex="-1"></a><span class="do">## 3        C   F   control         8.9</span></span>
<span id="cb160-18"><a href="wrangling-data-frames.html#cb160-18" tabindex="-1"></a><span class="do">## 4        D   M   control        10.5</span></span>
<span id="cb160-19"><a href="wrangling-data-frames.html#cb160-19" tabindex="-1"></a><span class="do">## 5        A   M     cond1        14.2</span></span>
<span id="cb160-20"><a href="wrangling-data-frames.html#cb160-20" tabindex="-1"></a><span class="do">## 6        B   F     cond1        12.6</span></span>
<span id="cb160-21"><a href="wrangling-data-frames.html#cb160-21" tabindex="-1"></a><span class="do">## 7        C   F     cond1        12.1</span></span>
<span id="cb160-22"><a href="wrangling-data-frames.html#cb160-22" tabindex="-1"></a><span class="do">## 8        D   M     cond1        12.9</span></span>
<span id="cb160-23"><a href="wrangling-data-frames.html#cb160-23" tabindex="-1"></a><span class="do">## 9        A   M     cond2         8.7</span></span>
<span id="cb160-24"><a href="wrangling-data-frames.html#cb160-24" tabindex="-1"></a><span class="do">## 10       B   F     cond2        10.1</span></span>
<span id="cb160-25"><a href="wrangling-data-frames.html#cb160-25" tabindex="-1"></a><span class="do">## 11       C   F     cond2        14.2</span></span>
<span id="cb160-26"><a href="wrangling-data-frames.html#cb160-26" tabindex="-1"></a><span class="do">## 12       D   M     cond2        11.9</span></span></code></pre></div>
<p>The <code>dcast()</code> function is used to convert from a long format data frame to a wide format data frame. The first argument is again is the data frame we want to cast (<code>long_data</code> for this example). The second argument is in formula syntax. The <code>subject + sex</code> bit of the formula means that we want to keep these columns separate, and the <code>~ condition</code> part is the column that contains the labels that we want to split into new columns in our new data frame. The <code>value.var = "measurement"</code> argument is the column that contains the measured data.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="wrangling-data-frames.html#cb161-1" tabindex="-1"></a>long_data   <span class="co"># remind ourselves what the long format look like</span></span>
<span id="cb161-2"><a href="wrangling-data-frames.html#cb161-2" tabindex="-1"></a><span class="do">##    subject sex condition measurement</span></span>
<span id="cb161-3"><a href="wrangling-data-frames.html#cb161-3" tabindex="-1"></a><span class="do">## 1        A   M   control        12.9</span></span>
<span id="cb161-4"><a href="wrangling-data-frames.html#cb161-4" tabindex="-1"></a><span class="do">## 2        A   M     cond1        14.2</span></span>
<span id="cb161-5"><a href="wrangling-data-frames.html#cb161-5" tabindex="-1"></a><span class="do">## 3        A   M     cond2         8.7</span></span>
<span id="cb161-6"><a href="wrangling-data-frames.html#cb161-6" tabindex="-1"></a><span class="do">## 4        B   F   control         5.2</span></span>
<span id="cb161-7"><a href="wrangling-data-frames.html#cb161-7" tabindex="-1"></a><span class="do">## 5        B   F     cond1        12.6</span></span>
<span id="cb161-8"><a href="wrangling-data-frames.html#cb161-8" tabindex="-1"></a><span class="do">## 6        B   F     cond2        10.1</span></span>
<span id="cb161-9"><a href="wrangling-data-frames.html#cb161-9" tabindex="-1"></a><span class="do">## 7        C   F   control         8.9</span></span>
<span id="cb161-10"><a href="wrangling-data-frames.html#cb161-10" tabindex="-1"></a><span class="do">## 8        C   F     cond1        12.1</span></span>
<span id="cb161-11"><a href="wrangling-data-frames.html#cb161-11" tabindex="-1"></a><span class="do">## 9        C   F     cond2        14.2</span></span>
<span id="cb161-12"><a href="wrangling-data-frames.html#cb161-12" tabindex="-1"></a><span class="do">## 10       D   M   control        10.5</span></span>
<span id="cb161-13"><a href="wrangling-data-frames.html#cb161-13" tabindex="-1"></a><span class="do">## 11       D   M     cond1        12.9</span></span>
<span id="cb161-14"><a href="wrangling-data-frames.html#cb161-14" tabindex="-1"></a><span class="do">## 12       D   M     cond2        11.9</span></span>
<span id="cb161-15"><a href="wrangling-data-frames.html#cb161-15" tabindex="-1"></a></span>
<span id="cb161-16"><a href="wrangling-data-frames.html#cb161-16" tabindex="-1"></a><span class="co"># convert long to wide</span></span>
<span id="cb161-17"><a href="wrangling-data-frames.html#cb161-17" tabindex="-1"></a>my_wide_df <span class="ot">&lt;-</span> <span class="fu">dcast</span>(<span class="at">data =</span> long_data, subject <span class="sc">+</span> sex <span class="sc">~</span> condition, </span>
<span id="cb161-18"><a href="wrangling-data-frames.html#cb161-18" tabindex="-1"></a>                    <span class="at">value.var =</span> <span class="st">&quot;measurement&quot;</span>)</span>
<span id="cb161-19"><a href="wrangling-data-frames.html#cb161-19" tabindex="-1"></a>my_wide_df</span>
<span id="cb161-20"><a href="wrangling-data-frames.html#cb161-20" tabindex="-1"></a><span class="do">##   subject sex cond1 cond2 control</span></span>
<span id="cb161-21"><a href="wrangling-data-frames.html#cb161-21" tabindex="-1"></a><span class="do">## 1       A   M  14.2   8.7    12.9</span></span>
<span id="cb161-22"><a href="wrangling-data-frames.html#cb161-22" tabindex="-1"></a><span class="do">## 2       B   F  12.6  10.1     5.2</span></span>
<span id="cb161-23"><a href="wrangling-data-frames.html#cb161-23" tabindex="-1"></a><span class="do">## 3       C   F  12.1  14.2     8.9</span></span>
<span id="cb161-24"><a href="wrangling-data-frames.html#cb161-24" tabindex="-1"></a><span class="do">## 4       D   M  12.9  11.9    10.5</span></span></code></pre></div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="importing-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="summarising-data-frames.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/alexd106/Rbook/edit/master/03-data.Rmd",
"text": "Suggest an edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": [["Rbook.pdf", "Download PDF version"]],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"highlight": "tango"
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
